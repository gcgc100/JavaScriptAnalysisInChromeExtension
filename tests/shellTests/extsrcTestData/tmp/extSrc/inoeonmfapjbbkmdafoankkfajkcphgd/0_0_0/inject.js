var textHelp=textHelp||{};textHelp.thWebReaderModule={},function(){this.injectManager=function(){this.m_currentConfig=null,this.m_config={parserSiteMap:{"https://docs.google.com/document/*edit":{auto:!0},"https://docs.google.com/presentation/*edit":{auto:!0},"https://*.sharepoint.com/*.docx":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://*.sharepoint.com/*doc.aspx":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://onedrive.live.com/edit.aspx*app=Word":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://*.sharepoint.com/*Notebooks":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://*.sharepoint.com/*WopiFrame.aspx?sourcedoc":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://docs.google.com/document/*classroom.google.com":{frameElement:'docs-chrome',auto:!0},"https://*word-edit.officeapps.live.com":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://*onenote.officeapps.live.com/o/onenoteframe.aspx":{frameElement:'WACViewPanel_EditingElement',auto:!0},"https://reading.texthelp.com/ReadWrite":{auto:!0},"https://fluency.texthelp.com/ReadWrite":{auto:!0},"https://rw.texthelp.com/simplify/":{auto:!0},"https://ola.performancematters.com":{appendStart:!0,canEject:!0,auto:!1,dynamicframes:!0},"https://*.vitalsource.com/":{appendStart:!0,canEject:!0,dynamicframes:!0,auto:!1,domain:'vitalsource.com'},"https://bookshare-reader.s3.amazonaws.com":{appendStart:!0,canEject:!0,auto:!1,dynamicframes:!0},"https://*.itslearning.com/":{appendStart:!0,canEject:!0,auto:!1,dynamicframes:!0},default:{appendStart:!0,canEject:!0,auto:!1}}},this.getConfig=function(){try{if(null!==this.m_currentConfig)return this.m_currentConfig;var a=!1,b=this.m_config.parserSiteMap;for(var c in b){if('default'==c)break;var d=window.location.href.substring(0,c.length);if(d===c)this.m_currentConfig=b[c],a=!0;else{d=window.location.toString();var e=c.split('*');if(1<e.length){var f=!0;for(var g in e){var h=d.indexOf(e[g]);if(-1==h){f=!1;break}d=d.substr(h+e[g].length)}f&&(d=window.location.toString(),this.m_currentConfig=b[c],a=!0)}}}return!1==a&&(this.m_currentConfig=b['default'],a=!0),this.m_currentConfig}catch(a){textHelp.webreaderapi.HelpersSingleton.getInstance().logError(a)}}}}.apply(textHelp.thWebReaderModule),textHelp.thWebReaderModule.injectionManager=new textHelp.thWebReaderModule.injectManager,textHelp.thWebReaderModule.config=textHelp.thWebReaderModule.injectionManager.getConfig(),this._visible=!0,this._pageType='',this._rwebooksx=null,this._rwebooksy=null,this._rwIsClickHoverOn=!0,this._injected=!1,this._enabledButton=!0,this._autoInjected=!0,this._fromButton=!1;function injectBarAll(a){return void 0==a&&(a=!1),a?(this._injected=!1,window.postMessage({type:'1757FROM_PAGERW4G',command:'trackEvent',settings:{category:'FromWebReader',action:'ScreenshotReaderOnlyInjected',label:window.location.host}},'*'),void window.postMessage({method:'thCheckExtension',type:'1757FROM_PAGERW4G',payload:{ChromeExtId:'enfolipbjmnmleonhhebhalojdpcpdoo'}},'*')):void(window.postMessage({type:'1757FROM_PAGERW4G',command:'trackEvent',settings:{category:'FromWebReader',action:'WebReaderBarInjected',label:window.location.host}},'*'),injectBar(!0),chrome.extension.sendRequest({method:'getLang'},function(a){var b=document.getElementById('thSpeechStreamTBPlaceHolder');null==b||b.setAttribute('lang',a.payload)}))}function injectButton(){var a=document.getElementById('thSpeechStreamButtonPlaceHolder');if(null===a){window.location.href;a=document.createElement('div');var a=document.createElement('div');a.setAttribute('id','thSpeechStreamButtonPlaceHolder'),a.setAttribute('style','z-index:9999999;float:right;background-position: center;width:33px;height:32px;position:fixed;top:0%;left:80%;text-shadow: 0px 3px 8px #2A2A2A;background-repeat: no-repeat;border-bottom: 2px solid #A09BC3;border-left: 2px solid #A09BC3;border-right: 2px solid #A09BC3;background-color: #F5F5F5;padding-right: 10px;border-bottom-left-radius: 10px;border-bottom-right-radius: 10px;');var b=document.createElement('div');b.setAttribute('id','thDragMeSpeechStreamButtonPlaceHolder'),b.setAttribute('style','position: absolute;cursor:e-resize;height: 32px;width: 10px;top: 0px;left: 0px;background-position-y: 3px;background-color: #dadada;background-repeat: no-repeat;background-image:url('+chrome.extension.getURL('/v195/rwimgs/DragIcon.png')+');border-bottom-left-radius: 8px;');var c=document.createElement('div');c.setAttribute('id','thLogoSpeechStreamButtonPlaceHolder'),c.setAttribute('style','position: absolute;height: 24px;width: 25px;top: 3px;left: 13px;background-image:url(data:image/png;base64,'+'iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfFJREFUeNpitN7g1WAnIlhvIsjLYCLIx0Bl0MgItOA/jMfFzAy2hBqWffv7l6Hv9iMGFnTBQ2/egzEllp15/4lhxr2nYPNY8LkA2TJ7UQEGYFAyyHNx4HX1oocvwHpggIVY725/8RaMRdnZwL5Ct+z6569gV7/++QtFLwupYQsyAN0ykA/XPn2FVT0TJREJsoyX24bh1T9lnGpYyDWch5Wbod2slsFQRJfhxbeXDOffXGL48vsrdXxgK2nJsMZ1PthwEJDgEmcIUw6g3AcgV+frpDF4yrlgyIUp+TNsf7SH4TnQN2T5AOTaBQ6TsRoOszxJPYq8IMoDunqydQc4KPABkOWq/ErEWwBSPB/o6jBlf6KDEeQYouIAZChM8eHnxxlW3dvIoMT+kiFG2ZGBh9OYgZNDG2dQghIBSA9WCySBwVBlWAh2/aq7GxlWAw2GRZyStBjD9x9XwZiFWRBsCSgfgNjIIF8nFbsFIJvBqeHxHobco3vwBsWfv+8ZPn89AsYcbEoM3FwmDNxAn8GSbZJGNMO8G0shFoBSgKGIHjCjfAEaXEFyvvjx6x4Yv/+0mYGTXQvsK5BDV93dALEAlANhXqIE/Pv3neHr97NgzMYqxZCoqEV+UUEI/Pr9jMFSgMLCjhgwagFRFjTS0PxGgAADAOdWxIBsledgAAAAAElFTkSuQmCC'+');'),c.setAttribute('onclick','window.postMessage({ type: "1757FROM_PAGERW4G", "command": "connect"}, "*");');var d=document.createElement('div');d.setAttribute('style','position: absolute;height: 24px;width: 10px;top: 8px;left: 40px;background-repeat: no-repeat;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QkbDgwIQIz9igAAAClJREFUKM9jYCAT/IdiByxyakjyBDXhVIxNE1bFjDg0EVKD06ZRT5MFABifIEtJuA7iAAAAAElFTkSuQmCC);');var e=document.createElement('script');e.type='text/javascript',e.src=chrome.extension.getURL('/buttonSettings.js'),e.id='buttonSpeechStreamJS',a.appendChild(e),a.appendChild(b),a.appendChild(c),document.body.appendChild(a)}}function ejectBar(){var a=!1;if(void 0!==textHelp.thWebReaderModule.config.canEject&&textHelp.thWebReaderModule.config.canEject&&(a=!0),!!a){var b=document.getElementById('th-RW4GC-toolbar'),c=document.getElementById('thSpeechStreamTBPlaceHolder');if(null===c)return void(null!==b&&(b.style.display='flex'));null!==b&&(b.style.display='none'),window.postMessage({type:'1757FROM_BGRW4G',method:'onStopSpeech'},'*'),window.postMessage({type:'1757FROM_BGRW4G',method:'removePrediction'},'*')}}function rwGoogleKeyUpListener(){}function ejectButton(){this._enabledButton&&ejectBar()}function equals(a,b){if(!(a&&b))return!1;var c=new RegExp(['^',a.toString(),'$'].join(''),'i');return b.match(c)}function onDefault(){'interactive'===document.readyState?chrome.extension.sendRequest({type:'1362FROM_PAGE',command:'isDefaultOn'},onRequest):onDefault()}function injectBarLicense(){chrome.extension.onMessage.addListener(onExtensionMessage),chrome.extension.sendRequest({type:'1757FROM_PAGERW4G',method:'trialValidation',user:'NA'},onInjectBarLicense)}function onInjectBarLicense(a){return void 0===a&&(a=[],a.payload=''),void 0===a.payload||''==a.payload?void injectBar():a.payload.hide_unlicensed&&'single'==a.payload.licence_type.toLowerCase()?void chrome.runtime.sendMessage({method:'thChromeOptionsChanged',enabled:!1}):a.payload.hide_unlicensed&&'freemium'==a.payload.licence_type.toLowerCase()?void chrome.runtime.sendMessage({method:'thChromeOptionsChanged',enabled:!1}):void injectBar();/* if (request.payload.hide_unlicensed &&
        !request.payload.unlimited &&
        (request.payload.licence_type.toLowerCase() == 'group')) {
        chrome.runtime.sendMessage({
            "method": "thChromeOptionsChanged",
            "enabled": false
        });
        return;
    }*/}function injectBar(a){this._fromButton=void 0!==a&&a,restore_options()}function restore_options(){chrome.storage.sync.get({enabledRW4GC:!0},function(a){this._enabledButton=a.enabledRW4GC,a.enabledRW4GC&&injectBarCheckForRW()})}function injectBarCheckForRW(){chrome.extension.sendRequest({type:'1757FROM_PAGERW4G',command:'isRWRunning'},injectBarNoRW)}function stringStartsWith(a,b){return a.slice(0,b.length)==b}function stringEndsWith(a,b){return''==b||a.slice(-b.length)==b}function injectBarNoRW(a){if(!(void 0!==a.running&&a.running)){if(!this._fromButton&&void 0!==textHelp.thWebReaderModule.config.auto&&!1==textHelp.thWebReaderModule.config.auto){if(1>a.email.length)return;if(stringEndsWith(a.email,'@qaheroes.com')&&stringStartsWith(a.email,'chromepc'));else if('smores01@scary.docsplustesting.com'==a.email);else return}void 0!==textHelp.thWebReaderModule.config.domain&&(window.document.domain=textHelp.thWebReaderModule.config.domain),onInjectParser(document)}}function injectParserByConfig(){try{textHelp.thWebReaderModule.config==void 0&&(textHelp.thWebReaderModule.config={}),textHelp.thWebReaderModule.config.frameElement==void 0?window.self==window.top&&injectBarLicense():setTimeout(function(){document.getElementById(textHelp.thWebReaderModule.config.frameElement)&&injectBarLicense()}.bind(this),0)}catch(a){console.log(a)}}function onInjectParser(){var a=document.getElementById('thWebReaderPlaceHolder');if(null===a){a=document.createElement('div');var b=document.getElementsByTagName('body')[0],a=document.createElement('div');a.setAttribute('id','thWebReaderPlaceHolder'),a.setAttribute('class','thWebReaderPlaceHolder'),a.setAttribute('data-root',chrome.extension.getURL('/')),textHelp.thWebReaderModule.config.dynamicframes!==void 0&&a.setAttribute('dynamic-frames','true'),textHelp.thWebReaderModule.config.appendStart===void 0?b.appendChild(a):textHelp.thWebReaderModule.config.appendStart?b.appendChild(a):b.insertBefore(a,b.childNodes[0]);var c=document.createElement('script');c.type='text/javascript',c.src=chrome.extension.getURL('/assets/install.js'),c.id='thJquery',a.appendChild(c);var d=document.createElement('script');d.type='text/javascript',d.src=chrome.extension.getURL('/textHelp_WebReader.js'),d.id='webReaderModule',d.setAttribute('data-root',chrome.extension.getURL('/')),a.appendChild(d),chrome.extension.sendRequest({method:'getLang'},function(a){var b=document.getElementById('webReaderModule');b.setAttribute('lang',a.payload)})}else{var e=document.getElementById('th-RW4GC-toolbar');if(null!==e)if('none'===e.style.display||'hidden'===e.style.visibility)chrome.storage.sync.set({enabledRW4GC:!0},function(){var a=document.getElementById('th-RW4GC-toolbar');a.style.display='flex',a.style.visibility='visible'});else{var f=0.3;e.style.transition='opacity '+f+'s linear',e.style.opacity='0',setTimeout(()=>{var a=document.getElementById('th-RW4GC-toolbar');a.style.visibility='hidden',a.style.opacity='1'},1e3*f)}}}function injectViaButton(){}function onExtensionMessage(a){if('connected'===a.command){return void chrome.storage.sync.get({enabledRW4GC:!0},function(a){a.enabledRW4GC&&(this._enabledButton=a.enabledRW4GC),a.enabledRW4GC&&injectBar(!0)});var b=document.getElementById('th-RW4GC-toolbar')}}function onMessage(){void 0==event.source||void 0==event.data||event.source!=window||'1757FROM_PAGERW4G'==event.data.type&&('connect'==event.data.command?chrome.extension.sendRequest(event.data,onRequest):'ejectBar'==event.data.command?ejectBar():'th-closeBar'==event.data.command?chrome.storage.sync.set({enabledRW4GC:!1}):chrome.extension.sendRequest(event.data,function(a){window.postMessage(a,'*')}))}window.addEventListener('message',this.onMessage),chrome.extension.onRequest.addListener(onRequest);function updatePageActionIcon(){}function onRequest(a){if('thGetType'!=a.method){if('thToggleVisibility'==a.method){var b=!0,c=document.getElementById('kix-appview');null===c&&(b=!1);var c=document.getElementById('docs-editor');null===c&&(b=!1);var c=document.getElementById('docs-header');null===c&&(b=!1),this._visible?window.postMessage({type:'1757FROM_BGRW4G',method:'thSetVisibility',visibility:'false'},'*'):(window.postMessage({type:'1757FROM_BGRW4G',method:'thSetVisibility',visibility:'true'},'*'),!1==b),this._visible=!this._visible}if('connected'==a.command){this._rwebooksx=a.settingcookies.g_fBarPosX,this._rwebooksy=a.settingcookies.g_fBarPosY,this._rwIsClickHoverOn=a.isClickHoverOn;var d=document.getElementById('thLogoSpeechStreamButtonPlaceHolder');d.setAttribute('onclick','window.postMessage({ type: "1757FROM_PAGERW4G", "command": "ejectBar"}, "*");$rw_stopSpeech();'),injectBarAll()}('onGetthRWFGSettings'==a.method||'onGetthRWFGMessage'==a.method)&&window.postMessage(a,'*'),'thChromeSpeechEvent'==a.method&&window.postMessage(a,'*'),'thToolbarVisibility'==a.method&&('true'==a.visible?(injectButton(),this._visible=!0):this._visible=!1)}}let onReady=new Promise(function(a){if('complete'===document.readyState)a();else{function b(){a(),document.removeEventListener('DOMContentLoaded',b,!0),window.removeEventListener('load',b,!0)}document.addEventListener('DOMContentLoaded',b,!0),window.addEventListener('load',b,!0)}});onReady.then(()=>{setTimeout(injectParserByConfig,100)});