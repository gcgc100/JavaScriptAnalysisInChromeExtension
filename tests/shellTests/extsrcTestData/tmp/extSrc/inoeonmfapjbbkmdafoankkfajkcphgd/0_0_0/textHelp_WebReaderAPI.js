(function(z){
z.Ij=function(a,b){var c=a.style[z.Oa(b)];return"undefined"!==typeof c?c:a.style[z.Zf(a,b)]||""};var Jj=function(a){if(1==a.nodeType)return z.jg(a);var b=z.la(a.Am),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.Va.targetTouches&&a.Va.targetTouches.length&&(c=a.Va.targetTouches[0]);return new z.H(c.clientX,c.clientY)};z.Kj=function(a,b){var c=Jj(a),d=Jj(b);return new z.H(c.x-d.x,c.y-d.y)};
z.X=function(a,b){var c=b||window.document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):z.he(window.document,"*",a,b)};z.W=function(){try{this.Gd=new Lj,null==z.I("thSpeechStreamTBPlaceHolder")&&(this.u=new Mj),this.ne=null}catch(a){z.S.a().b(a)}};var Nj=function(a){try{if(null===a.u.r())throw Error("Could not get a reference to the current parser.");a.u.r().stop();a.Gd.stop()}catch(b){z.S.a().b(b)}};z.Oj=function(){};
z.T=function(){this.ye={};this.wo=[];this.Ll=[];this.$e=z.S.a().bind(this,this.Ld);window.addEventListener("message",this.$e,!1)};z.S=function(){this.Bo="thWebReaderPlaceHolder";this.qn=this.Bd=null;this.Ym=!1;this.kn=this.dh=null;this.sn="";this.tn=!1};z.Pj=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};z.Qj=function(a,b){function c(a){if(3==a.nodeType)d.push(a);else for(var b=0,h=a.childNodes.length;b<h;++b)c(a.childNodes[b])}var d=[];c(b);return d};
z.Rj=function(){var a=z.S.a();try{return a.tn}catch(b){z.S.a().b(b)}};var Sj=function(a,b){return"en_US"==b||"en-US"==b||"ENGLISH_US"==b||"en-GB"==b||"en_GB"==b||"ENGLISH_GB"==b?"en":"FRENCH"==b||"fr"==b||"FRAN"==b.substr(0,4)?"fr":"PORTUGUESE"==b||"pt"==b||"PORT"==b.substr(0,4)||"pt-BR"==b||"pt_BR"==b?"pt":"MALAYSIAN"==b||"ms"==b?"ms":"SPANISH"==b||"es"==b||"ESPA"==b.substr(0,4)?"es":"DUTCH"==b||"nl"==b||"NEDERLANDS"==b?"nl":b};
var Mj=function(){try{this.Ha=null;var a=!1,b=z.ij.a().sd().highlighterSiteMap,c;for(c in b){if("default"==c)break;var d=window.location.toString().substring(0,c.length);if(d===c){this.Ha=b[c];var e=z.Cf.a();z.Pf(e,b[c].parser,this.ml,this);a=!0}else{var d=window.location.toString(),g=c.split("*");if(1<g.length){var h=!0,l;for(l in g){var m=d.indexOf(g[l]);if(-1==m){h=!1;break}d=d.substr(m+g[l].length)}h&&(d=window.location.toString(),this.Ha=b[c],e=z.Cf.a(),z.Pf(e,b[c].parser,this.ml,this),a=!0)}}}!1===
a&&(this.Ha=b["default"],e=z.Cf.a(),z.Pf(e,b["default"].parser,this.ml,this))}catch(n){z.S.a().b(n)}};z.Tj=function(){this.fn="Vocalizer Expressive Ava Premium High 22kHz"};var Lj=function(){try{this.bh=!1,this.Id=[]}catch(a){z.S.a().b(a)}};var Uj=function(){try{this.Cc=null,this.$i=!1,this.Qk=null,this.bh=!1}catch(a){z.S.a().b(a)}};
z.jj=function(a,b,c,d,e){try{this.path=b;this.vu=c;this.Fn;this.km;this.Sn;this.filename;this.speed=e;(0,window.decodeURIComponent)(d)===d&&(d=(0,window.encodeURIComponent)(d));this.wu=d;if(!d.includes("Vocalizer")){var g=z.V.a().M().language.services,g=Sj(z.S.a(),g),h=z.ij.a().wi().filter(function(a){return a.lC==g});d=(0,window.encodeURIComponent)(h[0].v)}try{"/"!=a.charAt(a.length-1)&&(a+="/"),"/"!=b.charAt(b.length-1)&&(b+="/")}catch(l){}this.Io=a+b+"?userName\x3d"+c+"\x26voiceName\x3d"+d+"\x26speedValue\x3d"+
e}catch(m){window.console.log(m)}};
var Vj=function(a,b,c){return new window.Promise(function(d,e){var g=new window.XMLHttpRequest;c=(0,window.encodeURIComponent)(c);var h="filename\x3d"+b+"\x26text\x3d"+c;g.open("POST",a);g.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset\x3dUTF-8");g.send(h);g.onload=function(){if(200==this.status){var a=JSON.parse(this.response);null==a?e(Error("Mp3 Request response is empty.")):d(a)}else e(Error(this.statusText))};g.onerror=function(){e(Error("Error converting text.\r\n"+g.statusText))}})};
var Wj=function(a,b){window.console.log("statusChecker - "+b);var c=Xj(b);try{c.then(function(c){window.console.log("File Status: "+c);100==c?a.km(a.Fn):(a.Sn(Math.round(c)),(0,window.setTimeout)(function(){try{Wj(a,b)}catch(c){a.hk(c)}},1E3))},function(b){a.hk(Error("StatusFile Error: "+b.message))})}catch(d){a.hk(d)}};
var Xj=function(a){return new window.Promise(function(b,c){var d=new window.XMLHttpRequest;window.console.log("requestStatusFile - "+a);d.open("GET",a,!0);d.send();d.onload=function(){if(200==this.status){var a=JSON.parse(this.response);window.console.log(a);null==a?c(Error("Response is empty.")):""!=a.error&&" "!=a.error?c(Error(a.error)):b(a.progress)}else window.console.log("Error - "+this.status),c(Error(this.statusText))};d.onerror=function(){window.console.log("Error - "+this.status);c(Error("Error converting text.\r\n"+
d.statusText))}})};z.Tf.prototype.Ub=z.ca(9,function(){try{if(null===this.A)throw Error("The WebReaderAPI has not been created");return this.A.Ub()}catch(a){z.S.a().b(a)}});z.Tf.prototype.Li=z.ca(8,function(){try{if(null===this.A)throw Error("The WebReaderAPI has not been created");return this.A.Li()}catch(a){z.S.a().b(a)}});z.Tf.prototype.Xc=z.ca(3,function(a){try{if(null===this.A)throw Error("The WebReaderAPI has not been created");void 0==a&&(a=!1);return this.A.Xc(a)}catch(b){window.console.error(b.stack)}});
z.Tf.prototype.Ld=z.ca(2,function(){});z.$b.prototype.Am=z.ca(0,function(){return this.Va});z.Yj={};z.jb(function(a,b){this.type=a;this.currentTarget=this.target=b;this.vn=null;this.Wf=0;this.ih=!1}.prototype,z.Xb.prototype);z.f=z.W.prototype;
z.f.xb=function(){try{this.Gd.xb();var a=z.I(z.S.a().Jg());null!==a&&"true"!==a.installed&&(window.document.documentElement.setAttribute("xmlns:thRWGDns",""),a.setAttribute("installed","true"),z.T.a().j("onthAPIWord",this.Rr,this),z.T.a().j("onthAPIStop",this.pr,this),this.vn=new Uj)}catch(b){z.S.a().b(b)}};z.f.pc=function(a,b){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().pc(a,b)}catch(c){z.S.a().b(c)}};
z.f.gg=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");Nj(this);z.S.a();this.ne=this.u.r().Og();if(null===this.ne)window.texthelp.RW4GC.thToolbarStoreInstance.onSpeechStopped();else if(0===this.ne.length)window.texthelp.RW4GC.thToolbarStoreInstance.onSpeechStopped();else this.Gd.gg(this.ne,1),window.texthelp.RW4GC.thToolbarStoreInstance.onSpeech()}catch(a){z.S.a().b(a)}};z.f.fo=function(a){try{Nj(this),this.ih=!0,this.Gd.gg(a,1,!1)}catch(b){z.S.a().b(b)}};
z.f.stop=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().stop();this.Gd.stop()}catch(a){z.S.a().b(a)}};z.f.Mn=function(a){this.ne=a;if(null===this.ne)window.texthelp.RW4GC.thToolbarStoreInstance.onSpeechStopped();else if(0===this.ne.length)window.texthelp.RW4GC.thToolbarStoreInstance.onSpeechStopped();else this.Gd.gg(this.ne,1)};
z.f.forward=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().stop();this.Gd.stop();this.ih?this.ih=!1:this.u.r().he(!1,this.Mn.bind(this))}catch(a){z.S.a().b(a)}};z.f.Es=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");}catch(a){z.S.a().b(a)}};z.f.pause=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.Gd.pause()}catch(a){z.S.a().b(a)}};
z.f.cp=function(a){0!==a.length&&(this.u.r().ma(),100<a.length&&(a.length=100),window.open("http://google.com/search?q\x3d"+(0,window.encodeURIComponent)(a.join(" "))))};z.f.bp=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");var a=null;this.u.r().Hf()?this.u.r().Vc(this.cp.bind(this)):(a=this.u.r().vb(),0!==a.length&&(this.u.r().ma(),window.open("http://google.com/search?q\x3d"+(0,window.encodeURIComponent)(a.join(" ")))))}catch(b){z.S.a().b(b)}};
z.f.Js=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Ks()}catch(a){z.S.a().b(a)}};z.f.Ns=function(a){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Hf()&&this.u.r().Vc(a)}catch(b){z.S.a().b(b)}};z.f.vs=function(a){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().ui(a)}catch(b){z.S.a().b(b)}};
z.f.Ji=function(a){try{this.stop();if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Ji(a)}catch(b){z.S.a().b(b)}};z.f.Oc=function(a,b,c,d){try{this.stop();if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Oc(a,b,c,d)}catch(e){z.S.a().b(e)}};z.f.Af=function(a,b,c){try{this.stop();if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Af(a,b,c)}catch(d){z.S.a().b(d)}};
z.f.Xc=function(a){try{return void 0==a&&(a=!1),this.Gd.Xc(a)}catch(b){z.S.a().b(b)}};z.f.Rr=function(a){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");"start"!==a[0]&&this.u.r().wb(a[0])}catch(b){z.S.a().b(b)}};z.f.pr=function(){try{this.u.r().stop(),this.ih?this.ih=!1:this.u.r().he(!0,this.Mn.bind(this))}catch(a){this.u.r().wg(),window.texthelp.RW4GC.thToolbarStoreInstance.onSpeechStopped(),z.S.a().b(a)}};
z.f.Rj=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Yc("#FFFF00")}catch(a){z.S.a().b(a)}};z.f.Th=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Yc("#00FFFF")}catch(a){z.S.a().b(a)}};z.f.yi=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Yc("#ADFF2F")}catch(a){z.S.a().b(a)}};
z.f.sj=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().Yc("#FF00FF")}catch(a){z.S.a().b(a)}};z.f.sc=function(){try{Nj(this);if(null===this.u.r())throw Error("Could not get a reference to the current parser.");this.u.r().sc()}catch(a){z.S.a().b(a)}};z.f.mp=function(){try{return z.S.a().Ig()}catch(a){z.S.a().b(a)}};z.f.np=function(){try{return z.S.a().Bd.Xc()}catch(a){z.S.a().b(a)}};z.f.ed=function(){try{Nj(this),this.u.r().ed()}catch(a){z.S.a().b(a)}};
z.f.fd=function(){try{Nj(this),this.u.r().fd()}catch(a){z.S.a().b(a)}};z.f.Li=function(){try{return this.vn.isEnabled()}catch(a){z.S.a().b(a)}};z.f.vb=function(){try{var a=this.u.r().vb();return 0===a.length?"":3>a.length?a.join(" "):a[0]}catch(b){z.S.a().b(b)}};z.f.Ub=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");return this.u.r().Ub()}catch(a){z.S.a().b(a)}};
z.f.Sb=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");return this.u.r().Sb()}catch(a){z.S.a().b(a)}};z.f.Aa=function(){try{if(null===this.u.r())throw Error("Could not get a reference to the current parser.");return this.u.r().Aa()}catch(a){z.S.a().b(a)}};z.t("textHelp.webreaderapi.WebReaderAPI",z.W);z.W.prototype.initialise=z.W.prototype.xb;z.W.prototype.addVoiceNote=z.W.prototype.pc;z.W.prototype.speakSelection=z.W.prototype.gg;
z.W.prototype.speakWord=z.W.prototype.fo;z.W.prototype.stop=z.W.prototype.stop;z.W.prototype.getVoices=z.W.prototype.Xc;z.W.prototype.yellowHighlighter=z.W.prototype.Rj;z.W.prototype.getStaticOptionsDialog=z.W.prototype.mp;z.W.prototype.getStaticVoices=z.W.prototype.np;z.W.prototype.startSpeechRecognition=z.W.prototype.ed;z.W.prototype.stopSpeechRecognition=z.W.prototype.fd;z.W.prototype.isSpeechRecognitionRunning=z.W.prototype.Li;z.W.prototype.getWord=z.W.prototype.vb;
z.W.prototype.getParserName=z.W.prototype.Ub;z.W.prototype.getBarConfigFromParser=z.W.prototype.Sb;z.W.prototype.getPredictionPosition=z.W.prototype.Aa;z.f=z.Oj.prototype;z.f.Og=function(){throw Error("Not implemented");};z.f.Hf=function(){throw Error("Not implemented");};z.f.vb=function(){throw Error("Not implemented");};z.f.getSelection=function(){throw Error("Not implemented");};z.f.wb=function(){throw Error("Not implemented");};z.f.wg=function(){throw Error("Not implemented");};z.f.Oc=function(){throw Error("Not implemented");};z.f.pc=function(){throw Error("Not implemented");};z.f.stop=function(){throw Error("Not implemented");};
z.f.ba=function(a,b){z.S.a().ba(a,b)};z.f.sa=function(a,b){z.S.a().sa(a,b)};z.f.P=function(a,b){return z.S.a().P(a,b)};z.f.Rc=function(a){return z.S.a().Rc(a)};z.f.md=function(a,b,c){z.S.a().md(a,b,c)};z.ga(z.T);z.f=z.T.prototype;
z.f.Ld=function(a){try{if(void 0!=a.source&&void 0!=a.data&&a.source==window&&"1757FROM_BGRW4G"==a.data.type){"thSetVisibility"==a.data.method&&z.T.a().k("onBarVisibilityChanged",a.data.visibility);"trialValidation"==a.data.method&&(z.S.a().dg(a.data.payload),z.T.a().k("onLicenseReceived",a.data.payload));"msgReceived"==a.data.method&&(z.S.a().dg(a.data.payload),z.T.a().k("onLicenseReceived",a.data.payload));"thPrediction"==a.data.method&&z.T.a().k("onPredictionChanged",a.data.payload);"onGetthRWFGSettings"==
a.data.method&&z.T.a().k("onGetSettingsChanged",a.data.payload);"onGetthRWFGMessage"==a.data.method&&z.T.a().k("onMessageReceived",a.data.payload);"onthRWFGPopup"==a.data.method&&z.T.a().k("onMessagePopup",a.data.payload);"thGetVoices"==a.data.method&&z.T.a().k("onVoices",a.data.payload);"thGetChromeVoices"==a.data.method&&z.T.a().k("onChromeVoices",a.data.payload);"thChromeSpeechEvent"==a.data.method&&z.T.a().k("onChromeSpeechEvent",a.data.payload);"thChromeSpeechEventWord"==a.data.method&&z.T.a().k("onChromeSpeechWordEvent",
a.data.payload);"onCommand"==a.data.method&&(0,window.alert)(a.data.payload);if("onGetOAuthToken"==a.data.method){var b=[];null!=a.data.payload&&(b=a.data.payload,z.S.a().dg(a.data.payload));z.T.a().k("onGetOAuthToken",b)}"onAddVoiceNoteToken"==a.data.method&&z.T.a().k("onAddVoiceNoteToken",a.data.parameters.token);"onCheckIt"==a.data.method&&z.T.a().k("onCheckIt",a.data.payload);"onSpellingSuggestions"==a.data.method&&z.T.a().k("onSpellingSuggestions",a.data.payload);"onGetOAuthTokenSilent"==a.data.method&&
(b=[],null!=a.data.payload&&(b=a.data.payload,z.S.a().dg(a.data.payload)),z.T.a().k("onGetOAuthTokenSilent",b));"onCollectHighlightsWeb"==a.data.method&&z.T.a().k("onCollectHighlightsWeb",a.data.payload);"onVocabWeb"==a.data.method&&z.T.a().k("onVocabWeb",a.data.payload);"onAuthenticate"==a.data.method&&z.T.a().k("onAuthenticate",a.data.payload);"onGetLocaleDate"==a.data.method&&z.T.a().k("onGetLocaleDate",a.data.payload);"onGetLinks"==a.data.method&&z.T.a().k("onGetLinks",a.data.payload);"onRefreshLicense"==
a.data.method&&z.T.a().k("onRefreshLicense",a.data.payload)}}catch(c){z.S.a().b(c)}};
z.f.j=function(a,b,c){try{if("string"!==typeof a)throw Error("textHelp.webreaderapi.EventBusSingleton.subscribe's  first parameter 'eventName' should be a string");if("function"!==typeof b)throw Error("textHelp.webreaderapi.EventBusSingleton.subscribe's  first parameter 'callback' should be a function");this.ye[a]||(this.ye[a]=[]);var d=b;null!==c&&(d=z.S.a().bind(c,b));this.ye[a].push(d);this.Qs={ap:a,Mo:this.ye[a].length-1};var e=this.Ll.length;this.vo={};this.Ll[e]=this.Qs;return this.wo[e]=this.vo}catch(g){z.S.a().b(g)}};
z.f.k=function(a,b){try{if("string"!==typeof a)throw Error("textHelp.webreaderapi.EventBusSingleton.publish's first parameter 'eventName' should be a string");if(!b)throw Error("textHelp.webreaderapi.EventBusSingleton.publish requires a second argument 'data'");var c,d;if(this.ye[a])for(c=0;c<this.ye[a].length;c++)(d=this.ye[a][c])&&d(b)}catch(e){z.S.a().b(e)}};z.f.ig=function(a){try{var b=this.Ll[this.wo.indexOf(a)];this.ye[b.ap][b.Mo]=null}catch(c){z.S.a().b(c)}};z.f.Ib=function(){try{return this.a()}catch(a){z.S.a().b(a)}};
z.t("textHelp.webreaderapi.EventBusSingleton",z.T);z.T.prototype.unsubscribe=z.T.prototype.ig;z.T.prototype.subscribe=z.T.prototype.j;z.T.prototype.publish=z.T.prototype.k;z.T.getInst=z.T.prototype.Ib;z.ga(z.S);z.f=z.S.prototype;z.f.Ib=function(){return z.S.a()};z.f.Op=function(){try{return this.Ym}catch(a){z.S.a().b(a)}};z.f.ip=function(){try{var a=this.ra();return null==a?null:a.split("@")[1]}catch(b){z.S.a().b(b)}};z.f.Ps=function(a){try{return Object.keys(a).toString()===Object.keys([]).toString()?0:Object.keys(a).length}catch(b){return z.S.a().b(b),0}};
z.f.Ds=function(a,b){try{void 0==b?window.thPostMessage({type:"1757FROM_PAGERW4G",method:"trialValidation",user:a},"*"):window.thPostMessage({type:"1757FROM_PAGERW4G",method:"trialValidation",user:a,screenScraped:b},"*")}catch(c){z.S.a().b(c)}};z.f.Jg=function(){try{return this.Bo}catch(a){z.S.a().b(a)}};
z.f.dg=function(a){try{for(var b in a.pfs)a.features.hasOwnProperty(b)&&0==a.pfs[b]&&(a.features[b]=!1);var c=!1;if(a.hasOwnProperty("thdd")){if("unlimited"==a.thdd.timetype)c=!0;else if("timed"==a.thdd.timetype&&Number.isInteger(a.thdd.time))try{var d=new Date;d.setTime((new Date(a.thdd.timestamp)).getTime()+36E5*a.thdd.time);new Date<=d&&(c=!0)}catch(e){}if(c)for(b in a.thdd.features)a.features.hasOwnProperty(b)&&0==a.thdd.features[b]&&(a.features[b]=!1)}this.dh=a;this.kn=a.features}catch(g){z.S.a().b(g)}};
z.f.Xa=function(){try{return this.dh}catch(a){z.S.a().b(a)}};z.f.Tb=function(){try{return this.kn}catch(a){z.S.a().b(a)}};z.f.Ff=function(){try{var a=z.I("thSpeechStreamTBPlaceHolder");if(null!==a)return z.I("thSpeechStreamTBPlaceHolder").getAttribute("data-root");a=z.I("thWebReaderPlaceHolder");return null!==a?z.I("thWebReaderPlaceHolder").getAttribute("data-root"):null}catch(b){z.S.a().b(b)}};
z.f.Ef=function(){try{var a=z.I("webReaderModule").getAttribute("lang");null==a&&(a=z.I("thSpeechStreamTBPlaceHolder").getAttribute("lang"));var b=z.ij.a().sd();"undefined"!==typeof b[a]&&(b.locale=a);return b.locale}catch(c){z.S.a().b(c)}};z.f.Tc=function(){try{return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a,c){return c=16*Math.random(),("y"==a?c&3|8:c|0).toString(16)})}catch(a){z.S.a().b(a)}};z.f.Kj=function(a){return Array.prototype.slice.call(a)};
z.f.bind=function(a,b){return function(){return b.apply(a,z.S.a().Kj(arguments))}};z.f.b=function(a){window.console.error(a.stack)};
z.f.ba=function(a,b){try{if("string"==typeof a&&(a=z.I(a)),a){var c=a.className;if(c&&0<c.length){var d=b.split(" ");if(1===d.length&&-1===(" "+c+" ").lastIndexOf(" "+b+" "))a.className=a.className+" "+b;else{for(var e=c.split(" "),g=d.length,h,c=[],l=0;l<g;l++)h=d[l],-1===e.indexOf(h)&&c.push(h);a.className=a.className+" "+(1<c.length?c.join(" "):c[0])}}else a.className=b}}catch(m){z.S.a().b(m)}};
z.f.sa=function(a,b){try{if("string"==typeof a&&(a=z.I(a)),a){var c=a.className;if(c&&0<c.length){for(var d=c.split(" "),e=b.split(" "),g=d.length,h,c=[],l=0;l<g;l++)h=d[l],-1===e.indexOf(h)&&c.push(h);switch(!0){case 1<c.length:a.className=c.join(" ");break;case 1==c.length:a.className=c[0];break;case 0==c.length:a.className=""}}}}catch(m){z.S.a().b(m)}};
z.f.P=function(a,b){try{if(null===a||void 0==a)return!1;if(a.className)for(var c=a.className.split(" "),d=b.toUpperCase(),e=0;e<c.length;e++)if(c[e].toUpperCase()==d)return!0;return!1}catch(g){z.S.a().b(g)}};z.f.Rc=function(a){try{if(null===a)return!1;var b=[];a.className&&(b=a.className.split(" "));return b}catch(c){z.S.a().b(c)}};z.f.md=function(a,b,c){try{this.sa(a,b.toString()),this.ba(a,c.toString())}catch(d){z.S.a().b(d)}};z.f.trim=function(a){return a.replace(/^\s*([\S\s]*?)\s*$/,"$1")};
z.f.Ys=function(a){var b=/\w/i,c=a.match(b),c=a.indexOf(c);0<c&&(a=a.substring(c).replace(/[\u200B]/g,""));a=a.split("").reverse().join("");c=a.match(b);c=a.indexOf(c);0<c&&(a=a.substring(c));return a.split("").reverse().join("")};z.f.gp=function(){return this.Bd};z.f.Zn=function(a){this.Bd=a};z.f.ao=function(a){this.qn=a};z.f.Ig=function(){return this.qn};z.f.Bh=function(a){try{this.sn=a}catch(b){z.S.a().b(b)}};z.f.lp=function(){try{return this.sn}catch(a){z.S.a().b(a)}};
z.f.Zo=function(a){try{return a=a.replace(/\u2019/g,"'"),(0,window.encodeURIComponent)(a).replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E").replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}catch(b){z.S.a().b(b)}};
z.f.Vo=function(a){try{return(0,window.decodeURIComponent)(a.replace(/\%2D/g,"-").replace(/\%5F/g,"_").replace(/\%2E/g,".").replace(/\%21/g,"!").replace(/\%7E/g,"~").replace(/\%2A/g,"*").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")"))}catch(b){z.S.a().b(b)}};z.f.Co=function(a){try{var b=window.document.createElement("div");b.appendChild(window.document.createTextNode(a));return b.innerHTML}catch(c){z.S.a().b(c)}};
z.f.mg=function(a){try{return a.replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\"]/g,'\\"').replace(/\\'/g,"\\'")}catch(b){z.S.a().b(b)}};z.f.Oa=function(a,b){try{var c=z.S.a().Xa();return void 0!==c.lt?!0:z.S.a().Tb()[a]?!0:(null!==c.upgrade_link&&b&&window.open(c.upgrade_link,"_exthtb").focus(),!1)}catch(d){z.S.a().b(d)}};z.f.Ej=function(a){try{this.tn=a}catch(b){z.S.a().b(b)}};
z.f.Ib=function(){try{return this.a()}catch(a){z.S.a().b(a)}};z.f.ra=function(){try{return null==this.dh?null:this.dh.Email}catch(a){z.S.a().b(a)}};
z.f.fireEvent=function(a,b){var c;if(a.ownerDocument)c=a.ownerDocument;else if(9==a.nodeType)c=a;else throw Error("Invalid node passed to fireEvent: "+a.id);if(a.dispatchEvent){var d="";switch(b){case "click":case "mousedown":case "mouseup":d="MouseEvents";break;case "focus":case "change":case "blur":case "select":d="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+b+"'.";}c=c.createEvent(d);c.initEvent(b,"change"==b?!1:!0,!0);c.Rs=!0;a.dispatchEvent(c,!0)}else a.fireEvent&&
(c=c.createEventObject(),c.Rs=!0,a.fireEvent("on"+b,c))};z.f.Xs=function(a,b){b=b.replace(/[\[\](){}?*+\^$\\.|\-]/g,"\\$\x26");return a.replace(new RegExp("^["+b+"]+|["+b+"]+$","g"),"")};z.f.Pm=function(a){var b=a.getBoundingClientRect().top;a=a.getBoundingClientRect().bottom;return 0<=b&&a<=window.innerHeight};
z.f.oo=function(a){return"en_US"==a||"en-US"==a||"ENGLISH_US"==a?"en-US":"en-GB"==a||"en_GB"==a||"ENGLISH_GB"==a?"en-GB":"FRENCH"==a||"fr"==a||"FRAN\ufffdAIS"==a?"fr":"fr-CA"==a||"fr_CA"==a?"fr-CA":"PORTUGUESE"==a||"pt"==a?"pt":"PORTUGU\ufffdS (BRASILEIRA)"==a||"pt-BR"==a||"pt_BR"==a?"pt-BR":"MALAYSIAN"==a||"ms"==a?"ms":"SPANISH"==a||"es"==a||"ESPA\ufffdOL"==a?"es":"nl"};z.f.Cf=z.aa(19);z.t("textHelp.webreaderapi.HelpersSingleton",z.S);z.S.prototype.isAuthenticated=z.S.prototype.Op;
z.S.prototype.getPlaceHolder=z.S.prototype.Jg;z.S.prototype.getRootLocation=z.S.prototype.Ff;z.S.prototype.setPredictionVisible=z.S.prototype.Ej;z.S.prototype.getGuid=z.S.prototype.Tc;z.S.prototype.logError=z.S.prototype.b;z.S.prototype.toArray=z.S.prototype.Kj;z.S.prototype.bind=z.S.prototype.bind;z.S.prototype.addClassName=z.S.prototype.ba;z.S.prototype.removeClassName=z.S.prototype.sa;z.S.prototype.hasClassName=z.S.prototype.P;z.S.prototype.getClassName=z.S.prototype.Jt;
z.S.prototype.changeClassName=z.S.prototype.md;z.S.prototype.trim=z.S.prototype.trim;z.S.prototype.trimPunctuation=z.S.prototype.Ys;z.S.prototype.trimChars=z.S.prototype.Xs;z.S.prototype.getAPI=z.S.prototype.gp;z.S.prototype.setAPI=z.S.prototype.Zn;z.S.prototype.getOptionsDialog=z.S.prototype.Ig;z.S.prototype.setOptionsDialog=z.S.prototype.ao;z.S.prototype.getLicense=z.S.prototype.Xa;z.S.prototype.setLicense=z.S.prototype.dg;z.S.prototype.getFeatures=z.S.prototype.Tb;
z.S.prototype.retrieveLicense=z.S.prototype.Ds;z.S.prototype.CheckLicense=z.S.prototype.Oa;z.S.prototype.setPredictionSequence=z.S.prototype.Bh;z.S.prototype.getPredictionSequence=z.S.prototype.lp;z.S.prototype.encodeString=z.S.prototype.Zo;z.S.prototype.HTMLEscape=z.S.prototype.Co;z.S.prototype.JSONEscape=z.S.prototype.mg;z.S.prototype.decodeString=z.S.prototype.Vo;z.S.getInst=z.S.prototype.Ib;z.S.prototype.getIDFromDoc=z.S.prototype.ra;z.S.prototype.getDomainFromDoc=z.S.prototype.ip;
z.S.prototype.sturdyArrayLength=z.S.prototype.Ps;z.S.prototype.fireEvent=z.S.prototype.fireEvent;z.S.prototype.isScrolledIntoView=z.S.prototype.Pm;z.S.prototype.toLang=z.S.prototype.oo;Mj.prototype.r=function(){try{if(null===this.xl)throw Error("The parser is currently null.");return this.xl}catch(a){z.S.a().b(a)}};Mj.prototype.ml=function(){try{this.xl=new window.textHelp.parsers[z.Yj.qj],this.xl.Ah(this.Ha)}catch(a){z.S.a().b(a)}};z.t("textHelp.webreaderapi.ParserFactory",Mj);Mj.prototype.getParser=Mj.prototype.r;z.ga(z.Tj);z.f=z.Tj.prototype;z.f.pp=function(){try{return this.fn}catch(a){z.S.a().b(a)}};z.f.co=function(a){try{this.fn=a}catch(b){z.S.a().b(b)}};z.f.Ig=function(){try{return z.S.a().Ig()}catch(a){z.S.a().b(a)}};z.f.Xc=function(){try{return z.S.a().Bd.Xc()}catch(a){z.S.a().b(a)}};z.f.Ib=function(){try{return z.Tj.a()}catch(a){z.S.a().b(a)}};z.t("textHelp.webreaderapi.SettingsSingleton",z.Tj);z.Tj.prototype.get_Voice=z.Tj.prototype.pp;z.Tj.prototype.set_Voice=z.Tj.prototype.co;
z.Tj.prototype.getOptionsDialog=z.Tj.prototype.Ig;z.Tj.prototype.getVoices=z.Tj.prototype.Xc;z.Tj.getInst=z.Tj.prototype.Ib;z.f=Lj.prototype;
z.f.xb=function(){try{if(!this.bh){var a=this;window.addEventListener("message",function(b){if(void 0!=b&&void 0!=b.data&&void 0!=b.data.detail&&void 0!=b.data.detail.type&&"th-SpeechManagerEvent-38697BG"===b.data.detail.type&&"undefined"!==typeof b.data.detail.request&&"ca753d9d-f8c8-47dd-bd00-8033cd620939"==b.data.detail.request.origin){var d=b.data.detail.method;try{if(void 0!==a[d]&&"stop"!==d)a[d](b.data.detail)}catch(e){window.console.log(e)}}});window.postMessage({type:"th-SpeechManagerEvent-38697CS",detail:{method:"getVoices",
type:"SP_M_1342_CK"}},"*");this.bh=!0}}catch(b){z.S.a().b(b)}};z.f.Xc=function(){try{return this.bh?this.Id:null}catch(a){z.S.a().b(a)}};z.f.gg=function(a){try{z.T.a().k("onthAPIWord",["start"]);var b={method:"play",type:"SP_M_1342_CK"};b.words=a;b.origin="ca753d9d-f8c8-47dd-bd00-8033cd620939";b.voice=z.V.a().M().speechoptions.voice;b.speed=z.V.a().M().speechoptions.speed;window.postMessage({type:"th-SpeechManagerEvent-38697CS",detail:b},"*")}catch(c){z.S.a().b(c)}};
z.f.stop=function(){try{window.postMessage({type:"th-SpeechManagerEvent-38697CS",detail:{method:"stop",type:"SP_M_1342_CK",origin:"ca753d9d-f8c8-47dd-bd00-8033cd620939"}},"*")}catch(a){z.S.a().b(a)}};z.f.pause=function(){try{window.postMessage({type:"th-SpeechManagerEvent-38697CS",detail:{method:"pause",type:"SP_M_1342_CK",origin:"ca753d9d-f8c8-47dd-bd00-8033cd620939"}},"*")}catch(a){z.S.a().b(a)}};
Lj.prototype.onVoicesResponse=function(a){try{var b=a.data.voicelist;for(a=0;a<b.length;a++)this.Id[b[a].voice]=b[a].description}catch(c){z.S.a().b(c)}};Lj.prototype.onWord=function(a){try{var b=[];b.push(a.word);z.T.a().k("onthAPIWord",b)}catch(c){z.S.a().b(c)}};Lj.prototype.onStop=function(){try{z.T.a().k("onthAPIStop",[])}catch(a){z.S.a().b(a)}};Lj.prototype.onForceStop=function(){try{window.texthelp.RW4GC.toolbarHandlerInstance.onstop()}catch(a){z.S.a().b(a)}};
Lj.prototype.onStart=function(){try{z.T.a().k("onthAPIWord",["start"])}catch(a){z.S.a().b(a)}};Uj.prototype.isEnabled=function(){try{return this.$i}catch(a){z.S.a().b(a)}};
Uj.prototype.start=function(){try{var a=this;this.Cc=new window.webkitSpeechRecognition;this.Cc.zt=!0;this.Cc.Rt=!0;var b=z.V.a().M().language.services;this.Cc.lang=z.S.a().oo(b);this.Cc.onstart=function(){};this.Cc.onresult=function(a){for(var b="",c="",h=a.resultIndex;h<a.results.length;++h)a.results[h].isFinal?b+=a.results[h][0].transcript:c+=a.results[h][0].transcript;0<b.length?(a=[],a.push(b+" "),z.T.a().k("onSpeechRecognitionResponse",a)):0<c.length&&(a=[],a.push(c+" "),z.T.a().k("onSpeechRecognitionInterimResponse",
a))};this.Cc.onerror=function(){};this.Cc.onend=function(){a.$i&&a.Cc.start()};this.$i=this.bh=!0;this.Cc.start()}catch(c){z.S.a().b(c)}};Uj.prototype.stop=function(){try{this.$i=!1,this.Cc.stop()}catch(a){z.S.a().b(a)}};z.t("textHelp.webreaderapi.SpeechRecognition",Uj);Uj.prototype.isEnabled=Uj.prototype.isEnabled;Uj.prototype.start=Uj.prototype.start;Uj.prototype.stop=Uj.prototype.stop;z.jj.prototype.jm=function(a,b,c,d,e){var g=this.Io;this.km=c;this.Sn=d;this.hk=e;this.filename=a;var h=this;Vj(g,a,b).then(function(a){var b=a.statusFileLocation;""!=b?(h.Fn=a.mp3Location,(0,window.setTimeout)(function(){try{Wj(h,b)}catch(a){e(a)}},1E3)):e(Error("Status file returned empty."))},function(a){e(a)})};z.t("textHelp.RW4GC.AudioMaker",z.jj);z.jj.prototype.convert=z.jj.prototype.jm;z.Lf("WebReaderAPI");})(__textHelp__);
//@ sourceURL=chrome-extension://inoeonmfapjbbkmdafoankkfajkcphgd/textHelp_WebReaderAPI.js