this.save_options=function(){var a=document.querySelector('.th-enable-switch'),b=!1;-1<a.className.indexOf('is-checked')&&(b=!0),chrome.storage.sync.set({enabledRW4GC:b},function(){var a=document.querySelector('.texthelp-tile-image');b?a.classList.remove('greyout'):0>a.className.indexOf('greyout')&&(a.className+=' greyout'),chrome.runtime.sendMessage({method:'thChromeOptionsChanged',enabled:b})})}.bind(this),this.restore_options=function(){chrome.storage.sync.get({enabledRW4GC:!0},function(a){var b=document.querySelector('.th-enable-switch'),c=document.querySelector('.texthelp-tile-image');a.enabledRW4GC?(0>b.className.indexOf('is-checked')&&(b.className+=' is-checked'),b.querySelector('input').setAttribute('checked',''),c.classList.remove('greyout')):(b.classList.remove('is-checked'),0>c.className.indexOf('greyout')&&(c.className+=' greyout'))})}.bind(this);var enabledSwitch=document.querySelector('.th-enable-switch');enabledSwitch.addEventListener('change',this.save_options),document.addEventListener('DOMContentLoaded',this.restore_options);