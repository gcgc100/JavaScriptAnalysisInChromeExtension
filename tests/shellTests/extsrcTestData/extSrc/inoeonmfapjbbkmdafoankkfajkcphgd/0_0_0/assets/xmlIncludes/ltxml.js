(function(e){"use strict";function a(e,t){function a(){var e,a;return e=[],a=0,{a:function(t){return e[a+=1]=t,this},toString:function(a){return e.join(a||"")}}}function n(e,a,r){var o,s,p,m,d,l,y,f,A,i,g;for(A=3;A<arguments.length;A+=1)if(o=arguments[A],null!==o&&void 0!==o)if(Array.isArray(o))for(i=0;i<o.length;i+=1)n(e,a,r,o[i]);else if(o.select)for(s=o.toArray(),g=0;g<s.length;g+=1)n(e,a,r,s[g]);else if(o.isXEnumerable)for(s=o.asEnumerable().toArray(),g=0;g<s.length;g+=1)n(e,a,r,s[g]);else if("object"==typeof o&&o.nodeType){if("Element"===o.nodeType||"Text"===o.nodeType||"Comment"===o.nodeType||"CDATA"===o.nodeType||"ProcessingInstruction"===o.nodeType||"Entity"===o.nodeType){if(o.parent&&null!==o.parent){if("Element"===o.nodeType)return p=new c.XElement(o),p.parent=e,void a(p);if("Entity"===o.nodeType)return m=new c.XEntity(o),m.parent=e,void a(m);if("Text"===o.nodeType)return m=new c.XText(o),m.parent=e,void a(m);if("Comment"===o.nodeType)return d=new c.XComment(o),d.parent=e,void a(d);if("CDATA"===o.nodeType)return l=new c.XCData(o),l.parent=e,void a(l);if("ProcessingInstruction"===o.nodeType)return f=new c.XProcessingInstruction(o),f.parent=e,void a(f)}return o.parent=e,void a(o)}if("Attribute"===o.nodeType)return o.parent&&null!==o.parent?(y=new c.XAttribute(o),y.parent=e,void r(y)):(o.parent=e,void r(o))}else{if("string"==typeof o&&""===o)return m=new c.XText(""),m.parent=e,void a(m);u(o.toString(),e,!0,a)}}function r(e,a){var t;for(t=0;t<e.nodesArray.length;t+=1)a(e.nodesArray[t]),"Element"===e.nodesArray[t].nodeType&&r(e.nodesArray[t],a)}function o(e,a){var n=t.from(e.nodesArray).traverseDepthFirst(function(e){return t.from(e.nodesArray).where(function(e){return"Element"===e.nodeType})}).where(function(e){return"Element"===e.nodeType});return a&&(n=n.where(function(t){return t.name===a})),n}function s(e,a,t){var n;for(n=0;n<e.nodesArray.length;n+=1)"Element"===e.nodesArray[n].nodeType&&(void 0===a?(t(e.nodesArray[n]),s(e.nodesArray[n],a,t)):(e.nodesArray[n].name===a&&t(e.nodesArray[n]),s(e.nodesArray[n],a,t)))}function i(e,a){var t,n,r,o,s,p,m,d,l,y,f,A,g,X,N,h,b,x,E,T,v,D,O,S;if(e.nodeType){if(1===e.nodeType){if(t=null===e.namespaceURI||void 0===e.namespaceURI||""===e.namespaceURI&&"xmlns"!==e.nodeName?c.XNamespace.getNone():new c.XNamespace(e.namespaceURI,e.prefix&&""!==e.prefix?e.prefix.toString():null),n=e.localName?new c.XName(t,e.localName):new c.XName(t,e.baseName),r=e.attributes,s=e.childNodes,null!==r&&void 0!==r&&0<r.length){for(p=[],X=0;X<s.length;X+=1)b=i(s[X],a+1),p.push(b);for(o=[],N=0;N<r.length;N+=1)x=i(r[N],a+1),o.push(x);m=new c.XElement(n,o,p)}else{for(p=[],h=0;h<s.length;h+=1)p.push(i(s[h],a+1));m=new c.XElement(n,p)}return m}if(2===e.nodeType)return t=null===e.namespaceURI||void 0===e.namespaceURI||""===e.namespaceURI&&"xmlns"!==e.prefix?"xml"===e.prefix?c.XNamespace.getXml():c.XNamespace.getNone():"http://www.w3.org/2000/xmlns/"===e.namespaceURI||"xmlns"===e.prefix?c.XNamespace.getXmlns():"http://www.w3.org/XML/1998/namespace"===e.namespaceURI?c.XNamespace.getXml():new c.XNamespace(e.namespaceURI,e.prefix?e.prefix.toString():null),n=e.localName?new c.XName(t,e.localName):"xmlns"===e.nodeName?new c.XName(t,"xmlns"):new c.XName(t,e.baseName),d=new c.XAttribute(n,e.nodeValue),d;if(3===e.nodeType)return v=[],u(e.nodeValue,null,!0,function(e){v.push(e)}),v;if(4===e.nodeType)return y=new c.XCData(e.nodeValue),y;if(7===e.nodeType)return"xml"===e.target?null:(A=new c.XProcessingInstruction(e.target,e.data),A);if(8===e.nodeType)return f=new c.XComment(e.nodeValue),f;if(9===e.nodeType){for(D=e.xmlVersion,O=e.xmlEncoding,S=e.xmlStandalone,D||(D="1.0"),O||(O="UTF-8"),S||(S="yes"),g=new c.XDeclaration(D,O,S?"yes":"no"),s=e.childNodes,E=[],T=0;T<s.length;T+=1)E.push(i(s[T],a+1));return l=new c.XDocument(g,E),l}}throw"Internal Error"}function p(e){var a,t;return t={prefixesFromNamespaceObjects:!1,namespaceArray:[],prefixArray:[]},a=e.namespaceArray.length,t.namespaceArray=e.namespaceArray.slice(0,a),t.prefixArray=e.prefixArray.slice(0,a),t}function m(e,a,n,r,o){var s,d,l,y,u,f,i,A,X,N,h,b,x,E,T,v,D;for(s=!1,v=a,d=e.attributesArray,u=d.length,f=0;f<u;f+=1)if(A=d[f],A.isNamespaceDeclaration)if(y=new c.XNamespace(A.value),h=A.name.localName,v.prefixesFromNamespaceObjects&&h!==y.preferredPrefix){v===a&&(v=p(a)),D=v.prefixArray.indexOf(h),-1===D?(v.namespaceArray.push(y),v.prefixArray.push(h)):v.namespaceArray[D]=y,s=!0;break}else if(D=v.namespaceArray.indexOf(y),-1===D||h!==v.prefixArray[D]){v===a&&(v=p(a)),D=v.prefixArray.indexOf(h),-1!==D&&(v.namespaceArray[D]=y),s=!0;break}for(f=0;f<u;f+=1)if(A=d[f],!A.isNamespaceDeclaration&&A.name.namespace!==o&&A.name.namespace!==r){for(x=v.namespaceArray.length,D=-1,i=0;i<x;++i)if(v.namespaceArray[i]===A.name.namespace&&"xmlns"!==v.prefixArray[i]){D=i;break}if(-1===D){for(;E="p"+g,-1!==v.prefixArray.indexOf(E);)g+=1;T=new c.XAttribute(c.XNamespace.getXmlns()+E,A.name.namespace.namespaceName),e.add(T),v===a&&(v=p(a)),v.namespaceArray.push(A.name.namespace),v.prefixArray.push(E),s=!0}}if(e.name.namespace!==o&&-1===v.namespaceArray.indexOf(e.name.namespace)){for(;E="p"+g,-1!==v.prefixArray.indexOf(E);)g+=1;T=new c.XAttribute(c.XNamespace.getXmlns()+E,e.name.namespace.namespaceName),e.add(T),v===a&&(v=p(a)),v.namespaceArray.push(e.name.namespace),v.prefixArray.push(E),s=!0}if(e.name.namespace===o&&(D=v.prefixArray.indexOf("xmlns"),-1!==D&&v.namespaceArray[D]!==o&&!t.from(e.attributesArray).any(function(e){return e.name.namespace===n&&"xmlns"===e.name.localName&&""===e.value})&&(b=new c.XAttribute("xmlns",""),e.add(b),s=!0)),s){for(X={prefixesFromNamespaceObjects:!1,namespaceArray:[],prefixArray:[]},d=e.attributesArray,u=d.length,f=0;f<u;f+=1)A=d[f],A.isNamespaceDeclaration&&(y=""===A.value?o:new c.XNamespace(A.value),h=A.name.localName,X.namespaceArray.push(y),X.prefixArray.push(h));for(f=0;f<v.namespaceArray.length;f+=1)-1===X.namespaceArray.indexOf(v.namespaceArray[f])&&-1===X.prefixArray.indexOf(v.prefixArray[f])&&(X.namespaceArray.push(v.namespaceArray[f]),X.prefixArray.push(v.prefixArray[f]));for(e.nsCache=X,l=e.nodesArray,u=l.length,i=0;i<u;i+=1)N=l[i],"Element"===N.nodeType&&m(N,X,n,r,o);return}for(e.nsCache=v,l=e.nodesArray,u=l.length,i=0;i<u;i+=1)N=l[i],"Element"===N.nodeType&&m(N,v,n,r,o)}function d(e,a){var t;for(t=0;t<e.nodesArray.length;t+=1)a(e.nodesArray[t]),("Element"===e.nodesArray[t].nodeType||"Document"===e.nodesArray[t].nodeType)&&d(e.nodesArray[t],a)}var l,y,c,u,f,A,g,X,N;return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),y={Identity:function(e){return e},True:function(){return!0},Blank:function(){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var a;for(a=0;a<this.length;a+=1)if(this[a]===e)return a;return-1}),l=function(e){var a;if(65279===e.charCodeAt(0)&&(e=e.substring(1)),"undefined"!=typeof c.DOMParser)return a=new c.DOMParser().parseFromString(e,"application/xml"),a;if("undefined"!=typeof window.DOMParser)return a=new window.DOMParser().parseFromString(e,"application/xml"),a;if("undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}throw new Error("No XML parser found")},c={},c.namespaceCache={},c.nameCache={},c.spaces="                                                                                          ",c.clearCache=function(){this.namespaceCache={},this.nameCache={}},c.cast=function(e){return e?e.value:null},c.castInt=function(e){return e?parseInt(e.value,10):null},X=[60,62,39,34,38],N=["lt","gt","apos","quot","amp"],u=function(e,a,t,n){var r,o,s,i,p,m,d;if("string"==typeof e){for(s=0,i=0,p=e.length;i!==p;){if(m=e.charCodeAt(i),40<=m&&59>=m||63<=m&&126>=m){i++;continue}if(32<=m&&126>=m&&34!==m&&38!==m&&39!==m&&60!==m&&62!==m){i++;continue}if((9===m||10===m||13===m)&&t){i++;continue}if(9===m&&!t){i++;continue}if(32>m){s!==i&&(t?(r=new c.XText(e.substring(s,i)),r.parent=a):r=e.substring(s,i),n(r)),o=new c.XEntity("#x"+m.toString(16)),o.parent=a,n(o),i++,s=i;continue}if(d=X.indexOf(m),-1===d){i++;continue}s!==i&&(t?(r=new c.XText(e.substring(s,i)),r.parent=a):r=e.substring(s,i),n(r)),o=new c.XEntity(N[d]),o.parent=a,n(o),i++,s=i}return void(s!==i&&(t?(r=new c.XText(e.substring(s,i)),r.parent=a):r=e.substring(s,i),n(r)))}t?(r=new c.XText(e),r.parent=a,n(r)):n(e)},c.XNamespace=function(e,a){var t,n,r;return(t=c.namespaceCache,null===a&&(a=void 0),void 0===t[e])?(n={namespaceName:e,preferredPrefix:null,getName:c.XNamespace.getName,toString:c.XNamespace.toString},t[e]=n,n):(r=t[e],r)},c.XNamespace.getName=function(e){return new c.XName(this.namespaceName,e)},c.XNamespace.toString=function(){return this===c.XNamespace.getNone()?"":"{"+this.namespaceName+"}"},c.XNamespace.getNone=function(){var e,a,t;return e=c.namespaceCache,a="__none",void 0===e[a]?(t={namespaceName:a,preferredPrefix:null,getName:c.XNamespace.getName,toString:c.XNamespace.toString},e[a]=t,t):e[a]},c.XNamespace.get=function(e){return new c.XNamespace(e)},c.XNamespace.getXml=function(){return new c.XNamespace("http://www.w3.org/XML/1998/namespace","xml")},c.XNamespace.getXmlns=function(){return new c.XNamespace("http://www.w3.org/2000/xmlns/","xmlns")},Object.defineProperties&&(Object.defineProperty(c.XNamespace,"none",{get:function(){return c.XNamespace.getNone()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XNamespace,"xml",{get:function(){return c.XNamespace.getXml()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XNamespace,"xmlns",{get:function(){return c.XNamespace.getXmlns()},enumerable:!0,configurable:!0})),c.XName=function(e,a){var t,n,r,o,s,i,p,m,d,l,y;return(t=c.nameCache,"string"==typeof e&&void 0===a&&"{"===e.charAt(0))?(y=e.indexOf("}"),o=e.substring(1,y),n=new c.XNamespace(o),a=e.substring(y+1),r="{"+o+"}"+a,void 0===t[r]?(t[r]={namespace:n,namespaceName:o,localName:a,toString:c.XName.toString},t[r]):t[r]):"string"==typeof e&&void 0===a?(s=c.XNamespace.getNone(),i="{"+s.namespaceName+"}"+e,void 0===t[i]?(p={namespace:s,namespaceName:"",localName:e,toString:c.XName.toString},t[i]=p,p):t[i]):(m=e,"object"!=typeof e&&(m=c.XNamespace(e)),d="{"+m.namespaceName+"}"+a,void 0===t[d]?(l={namespace:m,namespaceName:m.namespaceName,localName:a,toString:c.XName.toString},t[d]=l,l):t[d])},c.XName.toString=function(){return this.namespace+this.localName},c.XName.qualify=function(e,a,t){if(e.namespace===c.XNamespace.getNone())return e.localName;var n=a.getPrefixOfNamespace(e.namespace,t);return""===n?e.localName:n+":"+e.localName},c.XName.get=function(e,a){var t;if("string"==typeof e&&void 0===a)return t=new c.XName(e),t;if(("string"==typeof e||e.namespaceName)&&"string"==typeof a)return t=new c.XName(e,a),t;throw"XName.get: invalid arguments"},c.XObject=function(){},c.XObject.prototype.addAnnotation=function(e,a){a||(a={}),this.annotationsArray.push({Type:e,Object:a})},c.XObject.prototype.annotation=function(e){var a;for(a=0;a<this.annotationsArray.length;a+=1)if(this.annotationsArray[a].Type===e)return this.annotationsArray[a].Object;return null},c.XObject.prototype.annotations=function(e){var a,n;for(a=[],n=0;n<this.annotationsArray.length;n+=1)(void 0===e||this.annotationsArray[n].Type===e)&&a.push(this.annotationsArray[n].Object);return t.from(a)},c.XObject.prototype.removeAnnotations=function(e){var a;if(void 0===e)this.annotationsArray=[];else for(;;){for(a=0;a<this.annotationsArray.length&&this.annotationsArray[a].Type!==e;a+=1);if(a===this.annotationsArray.length)break;this.annotationsArray.splice(a,1)}},c.XObject.prototype.getDocument=function(){for(var e=this;;){if("Document"===e.nodeType)return e;if(e=e.parent,null===e)return null}},Object.defineProperties&&Object.defineProperty(c.XObject.prototype,"document",{get:function(){return this.getDocument()},enumerable:!0,configurable:!0}),c.XNode=function(){},c.XNode.prototype=new c.XObject,c.XNode.prototype.addAfterSelf=function(){var e,a,t,r,o,s;if(a=[],r=[],null===this.parent)throw"addAfterSelf: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";for(a=[],o=0;o<arguments.length;o+=1)a.push(arguments[o]);for(t=[],n(this,function(e){t.push(e)},function(){throw"addAfterSelf: invalid content"},a),r=this.parent.nodesArray.slice(0,e+1).concat(t).concat(this.parent.nodesArray.slice(e+1)),s=0;s<r.length;s+=1)r[s].parent=this.parent;this.parent.nodesArray=r},c.XNode.prototype.addBeforeSelf=function(){var e,a,t,r,o,s;if(a=[],t=[],r=[],null===this.parent)throw"addBeforeSelf: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";for(a=[],o=0;o<arguments.length;o+=1)a.push(arguments[o]);for(t=[],n(this,function(e){t.push(e)},function(){throw"addBeforeSelf: invalid content"},a),r=this.parent.nodesArray.slice(0,e).concat(t).concat(this.parent.nodesArray.slice(e)),s=0;s<r.length;s+=1)r[s].parent=this.parent;this.parent.nodesArray=r},c.XNode.prototype.CompareDocumentOrder=function(){throw"Not implemented"},c.XNode.prototype.deepEquals=function(e){var a,n,r,o;return this.nodeType===e.nodeType&&("Element"===this.nodeType&&this.name!==e.name?!1:"Comment"===this.nodeType||"Text"===this.nodeType||"CData"===this.nodeType||"ProcessingInstruction"===this.nodeType||"Entity"===this.nodeType?this.value===e.value:this.attributesArray.length===e.attributesArray.length&&(0!==this.attributesArray.length&&(a=t.from(this.attributesArray).where(function(e){return!e.isNamespaceDeclaration}).orderBy("k=>k.name"),n=t.from(e.attributesArray).where(function(e){return!e.isNamespaceDeclaration}).orderBy("k=>k.name"),a.zip(n,function(e,t){return{att1:e,att2:t}}).any(function(e){return e.att1.name!==e.att2.name||e.att1.value!==e.att2.value}))?!1:this.nodesArray.length===e.nodesArray.length&&(0===this.nodesArray.length&&0===e.nodesArray.length||(r=t.from(this.nodesArray),o=t.from(e.nodesArray),!r.zip(o,function(e,t){return{node1:e,node2:t}}).any(function(e){return!e.node1.deepEquals(e.node2)})))))},c.XNode.prototype.isAfter=function(){throw"Not implemented"},c.XNode.prototype.isBefore=function(){throw"Not implemented"},c.XNode.prototype.getNextNode=function(){var e;if(null===this.parent)throw"getNextNode: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return e<this.parent.nodesArray.length-2?this.parent.nodesArray[e+1]:null},c.XNode.prototype.remove=function(){var e,a;if(null===this.parent)throw"remove: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";a=this.parent.nodesArray.slice(0,e).concat(this.parent.nodesArray.slice(e+1)),this.parent.nodesArray=a},c.XNode.prototype.replaceWith=function(){var e,a,t,r,o,s;if(t=[],r=[],null===this.parent)throw"replaceWith: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";for(t=[],o=0;o<arguments.length;o+=1)t.push(arguments[o]);for(r=[],n(this,function(e){r.push(e)},function(){throw"replaceWith: invalid content"},t),a=this.parent.nodesArray.slice(0,e).concat(r).concat(this.parent.nodesArray.slice(e+1)),s=0;s<a.length;s+=1)a[s].parent=this.parent;this.parent.nodesArray=a},c.XNode.prototype.getPreviousNode=function(){var e;if(null===this.parent)throw"previousNode: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return 0<e?this.parent.nodesArray[e-1]:null},c.XNode.prototype.ancestors=function(e){var a,n,r;if(a=this,e&&"string"==typeof e&&(e=new c.XName(e)),this.lazy)return t.Utils.createEnumerable(function(){var n;return t.Utils.createEnumerator(function(){n=a.parent},function(){for(;null!==n;)if(e&&n.name!==e)n=n.parent;else{var a=n;return n=n.parent,this.yieldReturn(a)}return this.yieldBreak()},y.Blank)});if(n=[],r=this.parent,void 0===e){for(;null!==r;)n.push(r),r=r.parent;return t.from(n)}for(;null!==r;)r.name===e&&n.push(r),r=r.parent;return t.from(n)},c.XNode.prototype.nodesAfterSelf=function(){var e,a,n;if(n=this,null===this.parent)throw"nodesAfterSelf: no parent element";return this.lazy?t.Utils.createEnumerable(function(){var e,a,r;return t.Utils.createEnumerator(function(){r=n.parent,e=r.nodesArray.indexOf(n)+1,a=r.nodesArray.length},function(){for(var t;e<a;)return t=r.nodesArray[e],e+=1,this.yieldReturn(t);return this.yieldBreak()},y.Blank)}):(e=this.parent.nodesArray.indexOf(this),a=t.from(this.parent.nodesArray.slice(e+1)),a)},c.XNode.prototype.nodesBeforeSelf=function(){var e,a,n;if(n=this,null===this.parent)throw"nodesBeforeSelf: no parent element";if(this.lazy)return t.Utils.createEnumerable(function(){var e,a,r;return t.Utils.createEnumerator(function(){e=n.parent,a=0,r=e.nodesArray.indexOf(n)},function(){for(var t;a<r;)return t=e.nodesArray[a],a+=1,this.yieldReturn(t);return this.yieldBreak()},y.Blank)});if(null===this.parent)throw"nodesBeforeSelf: no parent element";if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return a=t.from(this.parent.nodesArray.slice(0,e)),a},c.XNode.prototype.elementsAfterSelf=function(a){var e,n,r;if(r=this,a&&"string"==typeof a&&(a=new c.XName(a)),null===this.parent)throw"elementsAfterSelf: no parent element";if(this.lazy)return t.Utils.createEnumerable(function(){var e,o,s;return t.Utils.createEnumerator(function(){s=r.parent,e=s.nodesArray.indexOf(r)+1,o=s.nodesArray.length},function(){for(;e<o;){var t=s.nodesArray[e];if("Element"!==t.nodeType||a&&t.name!==a)e+=1;else return e+=1,this.yieldReturn(t)}return this.yieldBreak()},y.Blank)});if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return n=t.from(this.parent.nodesArray.slice(e+1)).where(function(a){return"Element"===a.nodeType}),a&&(n=n.where(function(t){return t.name===a})),n},c.XNode.prototype.elementsBeforeSelf=function(a){var e,n,r;if(r=this,a&&"string"==typeof a&&(a=new c.XName(a)),null===this.parent)throw"elementsBeforeSelf: no parent element";if(this.lazy)return t.Utils.createEnumerable(function(){var e,o,s;return t.Utils.createEnumerator(function(){e=r.parent,o=0,s=e.nodesArray.indexOf(r)},function(){for(var t;o<s;)if(t=e.nodesArray[o],"Element"!==t.nodeType||a&&t.name!==a)o+=1;else return o+=1,this.yieldReturn(t);return this.yieldBreak()},y.Blank)});if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return n=t.from(this.parent.nodesArray.slice(0,e)).where(function(a){return"Element"===a.nodeType}),a&&(n=n.where(function(t){return t.name===a})),n},c.XNode.prototype.elementsBeforeSelfReverseDocumentOrder=function(a){var e,n,r;if(r=this,a&&"string"==typeof a&&(a=new c.XName(a)),null===this.parent)throw"elementsBeforeSelfReverseDocumentOrder: no parent element";if(this.lazy)return t.Utils.createEnumerable(function(){var e,o;return t.Utils.createEnumerator(function(){e=r.parent,o=e.nodesArray.indexOf(r)-1},function(){for(;0<=o;){var t=e.nodesArray[o];if("Element"!==t.nodeType||a&&t.name!==a)o-=1;else return o-=1,this.yieldReturn(t)}return this.yieldBreak()},y.Blank)});if(e=this.parent.nodesArray.indexOf(this),-1===e)throw"Internal Error";return n=t.from(this.parent.nodesArray.slice(0,e)).where(function(a){return"Element"===a.nodeType}).reverse(),a&&(n=n.where(function(t){return t.name===a})),n},Object.defineProperties&&(Object.defineProperty(c.XNode.prototype,"previousNode",{get:function(){return this.getPreviousNode()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XNode.prototype,"nextNode",{get:function(){return this.getNextNode()},enumerable:!0,configurable:!0})),c.XAttribute=function(e,a){var t,n,r,o;if(this.nodeType="Attribute",this.simpleValue=null,this.attributeNodesArray=null,this.isNamespaceDeclaration=!1,this.name=null,Object.defineProperties&&Object.defineProperty(this,"value",{get:c.XAttribute.prototype.getValue,set:c.XAttribute.prototype.setValue,enumerable:!0,configurable:!0}),e.nodeType&&"Attribute"===e.nodeType){if(void 0!==a)throw"XAttribute constructor: invalid arguments";if(this.isNamespaceDeclaration=e.isNamespaceDeclaration,null!==e.simpleValue&&void 0!==e.simpleValue)this.simpleValue=e.simpleValue;else{for(n=[],r=0;r<e.attributeNodesArray.length;r+=1)n.push(e.attributeNodesArray[r]);this.attributeNodesArray=n}return void(this.name=e.name)}if(void 0===a)throw"XAttribute constructor: invalid arguments";a.namespaceName?this.attributeNodesArray=[a.namespaceName]:(n=[],u(a.toString(),this,!1,function(e){n.push(e)}),1===n.length?this.simpleValue=n[0]:this.attributeNodesArray=n),t=e,o=c.XNamespace.getXmlns(),"string"==typeof e&&("xmlns"===e?t=new c.XName(o+"xmlns"):t=new c.XName(e)),this.isNamespaceDeclaration=t.namespace===o,this.name=t},c.XAttribute.prototype=new c.XObject,f=function(e,a){var t,n;if(null!==e.simpleValue&&void 0!==e.simpleValue)a.a(e.simpleValue);else for(t=e.attributeNodesArray,n=0;n<t.length;n+=1)t[n].nodeType?t[n].serialize(a):a.a(t[n])},c.XAttribute.prototype.serialize=function(e){return this.name.namespace===c.XNamespace.getXmlns()?"xmlns"===this.name.localName?(e.a("xmlns='"),f(this,e),void e.a("'")):(e.a("xmlns:").a(this.name.localName).a("='"),f(this,e),void e.a("'")):this.name.namespace===c.XNamespace.getNone()?(e.a(this.name.localName).a("='"),f(this,e),void e.a("'")):this.name.namespace===c.XNamespace.getXml()?void("string"==typeof this.value?(e.a("xml:").a(this.name.localName).a("='"),f(this,e),e.a("'")):(e.a("xml:").a(this.name.localName).a("='"),f(this,e),e.a("'"))):(e.a(c.XName.qualify(this.name,this.parent,!0)).a("='"),f(this,e),void e.a("'"))},c.XAttribute.prototype.toString=function(){var e=a();return this.serialize(e),e.toString()},c.XAttribute.prototype.remove=function(){var e,a;if(a=[],null===this.parent)throw"XAttribute.remove: no parent element";if(e=this.parent.attributesArray.indexOf(this),-1===e)throw"Internal Error";a=this.parent.attributesArray.slice(0,e).concat(this.parent.attributesArray.slice(e+1)),this.parent.attributesArray=a},c.XAttribute.prototype.setValue=function(e){var t=[];u(e.toString(),this,!1,function(e){t.push(e)}),1===t.length?this.simpleValue=t[0]:this.attributeNodesArray=t},c.XAttribute.prototype.getValue=function(){var e,t;return e=a(),f(this,e),t=e.toString(),t},c.XAttribute.prototype.getNextAttribute=function(){var e;if(null===this.parent)throw"getNextAttribute: no parent element";if(e=this.parent.attributesArray.indexOf(this),-1===e)throw"Internal Error";return e<this.parent.attributesArray.length-2?this.parent.attributesArray[e+1]:null},c.XAttribute.prototype.getPreviousAttribute=function(){var e;if(!this.parent)throw"getPreviousAttribute: no parent element";if(e=this.parent.attributesArray.indexOf(this),-1===e)throw"Internal Error";return 0<e?this.parent.attributesArray[e-1]:null},Object.defineProperties&&(Object.defineProperty(c.XAttribute.prototype,"previousAttribute",{get:function(){return this.getPreviousAttribute()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XAttribute.prototype,"nextAttribute",{get:function(){return this.getNextAttribute()},enumerable:!0,configurable:!0})),c.XComment=function(e){this.nodeType="Comment",this.parent=null,this.value=e.nodeType&&"Comment"===e.nodeType?e.value.toString():e.toString()},c.XComment.prototype=new c.XNode,c.XComment.prototype.serialize=function(e,a,t){var n;return(t||(t=0),a)?(n=c.spaces.substring(0,t),void e.a(n).a("<!--").a(this.value).a("-->\n")):void e.a("<!--").a(this.value).a("-->")},c.XComment.prototype.toString=function(e){var t=a();return this.serialize(t,e),t.toString()},c.XContainer=function(){},c.XContainer.prototype=new c.XNode,c.XContainer.prototype.add=function(){var e,t,a,r,o,s;for(e=[],t=[],a=[],r=0;r<arguments.length;r+=1)a.push(arguments[r]);e=[],n(this,function(a){e.push(a)},function(e){t.push(e)},a),o=this.nodesArray.concat(e),s=this.attributesArray.concat(t),this.nodesArray=o,this.attributesArray=s},c.XContainer.prototype.addFirst=function(){var e,t,a,r,o,s;for(e=[],t=[],a=[],r=0;r<arguments.length;r+=1)a.push(arguments[r]);e=[],n(this,function(a){e.push(a)},function(e){t.push(e)},a),o=e.concat(this.nodesArray),s=this.attributesArray.concat(t),this.nodesArray=o,this.attributesArray=s},c.XContainer.prototype.element=function(e){var a,t;for("string"==typeof e&&(e=new c.XName(e)),t=this.nodesArray.length,a=0;a<t;a+=1)if(this.nodesArray[a].name===e)return this.nodesArray[a];return null},c.XContainer.prototype.nodes=function(){return t.from(this.nodesArray)},c.XContainer.prototype.removeNodes=function(){this.nodesArray=[]},c.XContainer.prototype.replaceNodes=function(){var e,t,a,r,o;for(e=[],t=[],a=[],r=0;r<arguments.length;r+=1)a.push(arguments[r]);n(this,function(a){e.push(a)},function(e){t.push(e)},a),o=this.attributesArray.concat(t),this.nodesArray=e,this.attributesArray=o},c.XContainer.prototype.getFirstNode=function(){return 1<=this.nodesArray.length?this.nodesArray[0]:null},c.XContainer.prototype.getLastNode=function(){return 1<=this.nodesArray.length?this.nodesArray[this.nodesArray.length-1]:null},c.XContainer.prototype.descendantNodes=function(){var a,e;return this.lazy?(e=t.from(this.nodesArray).traverseDepthFirst(function(e){return t.from(e.nodesArray)}),e):(a=[],r(this,function(t){a.push(t)}),t.from(a))},c.XContainer.prototype.descendants=function(e){var a;return(e&&"string"==typeof e&&(e=new c.XName(e)),this.lazy)?o(this,e):(a=[],s(this,e,function(t){a.push(t)}),t.from(a))},c.XContainer.prototype.elements=function(a){var e,r;return(r=this,a&&"string"==typeof a&&(a=new c.XName(a)),this.lazy)?t.Utils.createEnumerable(function(){var e,o;return t.Utils.createEnumerator(function(){e=0,o=r.nodesArray.length},function(){for(;e<o;){var t=r.nodesArray[e];if("Element"!==t.nodeType||a&&t.name!==a)e+=1;else return e+=1,this.yieldReturn(t)}return this.yieldBreak()},y.Blank)}):(e=a?t.from(this.nodesArray).where(function(t){return"Element"===t.nodeType&&t.name===a}):t.from(this.nodesArray).where(function(a){return"Element"===a.nodeType}),e)},Object.defineProperties&&(Object.defineProperty(c.XContainer.prototype,"firstNode",{get:function(){return this.getFirstNode()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XContainer.prototype,"lastNode",{get:function(){return this.getLastNode()},enumerable:!0,configurable:!0})),c.XDeclaration=function(e,a,t){return e&&"object"==typeof e&&1===arguments.length?(this.type="XDeclaration",this.encoding=e.encoding?e.encoding:"",this.standalone=e.standalone?e.standalone:"",void(this.version=e.version?e.version:"")):3===arguments.length?(this.type="XDeclaration",this.version=e,this.encoding=a,void(this.standalone=t)):void(this.type="XDeclaration",this.version="",this.encoding="",this.standalone="")},c.XDeclaration.prototype.serialize=function(e,a){return this.version||this.encoding||this.standalone?a?(e.a("<?xml"),this.version&&e.a(" version=\"").a(this.version).a("\""),this.encoding&&e.a(" encoding=\"").a(this.encoding).a("\""),this.standalone&&e.a(" standalone=\"").a(this.standalone).a("\""),void e.a("?>\n")):(e.a("<?xml"),this.version&&e.a(" version=\"").a(this.version).a("\""),this.encoding&&e.a(" encoding=\"").a(this.encoding).a("\""),this.standalone&&e.a(" standalone=\"").a(this.standalone).a("\""),void e.a("?>")):void 0},c.XDeclaration.prototype.toString=function(e){var t=a();return this.serialize(t,e),t.toString()},c.XDocument=function(e){var a,t,r,o,s;if(this.annotationsArray=[],this.parent=null,this.nodeType="Document",this.nodesArray=[],this.declaration=new c.XDeclaration,"object"==typeof e&&e.nodeType&&"Document"===e.nodeType){if(1<arguments.length)throw"XDocument constructor: invalid arguments";return a=[],null!==e.declaration&&(this.declaration=new c.XDeclaration(e.declaration)),n(this,function(e){a.push(e)},function(){throw"Internal Error"},e.nodesArray),void(this.nodesArray=a)}if(0<arguments.length){for("object"==typeof e&&e.type&&"XDeclaration"===e.type?(r=1,this.declaration=e):r=0,o=[],s=r;s<arguments.length;s+=1)o.push(arguments[s]);t=[],n(this,function(e){t.push(e)},function(){throw"Internal Error"},o),this.nodesArray=t}},c.XDocument.prototype=new c.XContainer,c.XDocument.prototype.serialize=function(e,a){var t;if(a){for(this.declaration.serialize(e,!0),t=0;t<this.nodesArray.length;t+=1)this.nodesArray[t].serialize(e,!0);return}for(this.declaration.serialize(e,!1),t=0;t<this.nodesArray.length;t+=1)this.nodesArray[t].serialize(e,!1)},c.XDocument.prototype.toString=function(e){var t,n,r;return n=a(),t=new c.XDocument(this.declaration,this.nodes().select(function(e){return"Element"===e.nodeType?(r=new c.XElement(e),A(r),r):e})),t.serialize(n,e),n.toString()},c.XDocument.parse=function(a){var t,n;return t=l(a),n=c.XDocument.load(t),n},c.XDocument.prototype.DocumentType=function(){throw"Not implemented"},c.XDocument.load=function(e){var a=i(e);return a},c.XDocument.prototype.getRoot=function(){return t.from(this.nodesArray).firstOrDefault(function(e){return"Element"===e.nodeType})},c.XDocument.prototype.descendants=function(e){var a;return(e&&"string"==typeof e&&(e=new c.XName(e)),this.lazy)?o(this,e):(e&&"string"==typeof e&&(e=new c.XName(e)),a=[],s(this,e,function(t){a.push(t)}),t.from(a))},Object.defineProperties&&Object.defineProperty(c.XDocument.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),c.XElement=function(e){var a,t,r,o,s,p,m;if(this.annotationsArray=[],this.parent=null,this.nodeType="Element",this.nodesArray=null,this.attributesArray=null,this.name=null,this.nsCache=null,Object.defineProperties&&Object.defineProperty(this,"value",{get:c.XElement.prototype.getValue,set:c.XElement.prototype.setValue,enumerable:!0,configurable:!0}),"object"==typeof e&&e.nodeType&&"Element"===e.nodeType){if(1<arguments.length)throw"XElement constructor: invalid arguments";return this.name=e.name,a=[],t=[],n(this,function(e){a.push(e)},function(e){t.push(e)},e.attributesArray,e.nodesArray),this.attributesArray=t,void(this.nodesArray=a)}if(s=e,"string"==typeof e&&(s=new c.XName(e)),this.name=s,1<arguments.length){for(p=[],m=1;m<arguments.length;m+=1)p.push(arguments[m]);r=[],o=[],n(this,function(e){r.push(e)},function(e){o.push(e)},p),this.attributesArray=o,this.nodesArray=r}null===this.nodesArray&&(this.nodesArray=[]),null===this.attributesArray&&(this.attributesArray=[])},c.XElement.prototype=new c.XContainer,c.XElement.prototype.attribute=function(e){var a;for(e&&"string"==typeof e&&(e=new c.XName(e)),a=0;a<this.attributesArray.length;a+=1)if(this.attributesArray[a].name===e)return this.attributesArray[a];return null},c.XElement.prototype.attributes=function(e){var a;return(e&&"string"==typeof e&&(e=new c.XName(e)),void 0===e)?(a=t.from(this.attributesArray),a):(a=t.from(this.attributesArray).where(function(t){return t.name===e}),a)},c.XElement.prototype.serialize=function(e,a,r){var o,s,p,m,d,l,y,u,f,i;if(r||(r=0),l=c.XName.qualify(this.name,this,!1),o=[].concat(this.attributesArray),o.sort(function(e,a){return y=e.name.toString(),u=a.name.toString(),y<u?-1:y>u?1:0}),0===this.nodesArray.length){if(a)return(s=c.spaces.substring(0,r),0===o.length)?void e.a(s).a("<").a(l).a("/>\n"):1===o.length?void e.a(s).a("<").a(l).a(" ").a(o[0]).a("/>\n"):(d=s+c.spaces.substring(0,2+l.length),p=o.length-2,e.a(s).a("<").a(l).a(" "),o[0].serialize(e),e.a("\n"),t.from(o).skip(1).take(p).forEach(function(t){e.a(d),t.serialize(e),e.a("\n")}),e.a(d),o[o.length-1].serialize(e),void e.a("/>\n"));for(e.a("<").a(l).a(0===o.length?"":" "),f=0;f<o.length;f+=1)o[f].serialize(e),f<o.length-1&&e.a(" ");return void e.a("/>")}if(a){for(s=c.spaces.substring(0,r),m=!1,f=0;f<this.nodesArray.length;++f)if(i=this.nodesArray[f],"Text"===i.nodeType&&""!==i.value||"Entity"===i.nodeType){m=!0;break}if(m){if(0===o.length){for(e.a(s).a("<").a(l).a(">"),f=0;f<this.nodesArray.length;f+=1)this.nodesArray[f].serialize(e);return void e.a("</").a(l).a(">\n")}if(1===o.length){for(e.a(s).a("<").a(l).a(" "),o[0].serialize(e),e.a(">"),f=0;f<this.nodesArray.length;f+=1)this.nodesArray[f].serialize(e,!1);return void e.a("</").a(l).a(">\n")}return d=s+c.spaces.substring(0,2+l.length),p=o.length-2,e.a(s).a("<").a(l).a(" "),o[0].serialize(e),e.a("\n"),t.from(o).skip(1).take(p).forEach(function(t){e.a(d).a(t).a("\n")}),e.a(d),o[o.length-1].serialize(e),e.a(">"),t.from(this.nodesArray).forEach(function(a){a.serialize(e,!1)}),void e.a("</").a(l).a(">\n")}return 0===o.length?(e.a(s).a("<").a(l).a(">\n"),t.from(this.nodesArray).forEach(function(a){a.serialize(e,!0,r+2)}),void e.a(s).a("</").a(l).a(">\n")):1===o.length?(e.a(s).a("<").a(l).a(" "),o[0].serialize(e),e.a(">\n"),t.from(this.nodesArray).forEach(function(a){a.serialize(e,!0,r+2)}),void e.a(s).a("</").a(l).a(">\n")):(d=s+c.spaces.substring(0,2+l.length),p=o.length-2,e.a(s).a("<").a(l).a(" "),o[0].serialize(e),e.a("\n"),t.from(o).skip(1).take(p).forEach(function(t){e.a(d),t.serialize(e),e.a("\n")}),e.a(d),o[o.length-1].serialize(e),e.a(">\n"),t.from(this.nodesArray).forEach(function(a){a.serialize(e,!0,r+2)}),void e.a(s).a("</").a(l).a(">\n"))}return e.a("<").a(l),t.from(o).forEach(function(t){e.a(" "),t.serialize(e)}),e.a(">"),t.from(this.nodesArray).forEach(function(a){a.serialize(e)}),void e.a("</").a(l).a(">")},A=function(e){var a,t,n,r,o,s,i,p,d,l,y,u,f,A,X,N,h;for(u in X=c.XNamespace.getXmlns(),N=c.XNamespace.getNone(),h=c.XNamespace.getXml(),c.namespaceCache)c.namespaceCache.hasOwnProperty(u)&&c.namespaceCache[u].namespaceName&&(c.namespaceCache[u].preferredPrefix=null);for(g=0,y={prefixesFromNamespaceObjects:!0,namespaceArray:[],prefixArray:[]},a=e.attributesArray,n=a.length,r=0;r<n;r+=1)s=a[r],s.isNamespaceDeclaration&&(u=new c.XNamespace(s.value),f=s.name.localName,u.preferredPrefix=f,y.namespaceArray.push(u),y.prefixArray.push(f));for(r=0;r<n;r+=1)if(s=a[r],!s.isNamespaceDeclaration&&s.name.namespace!==N&&s.name.namespace!==h){for(d=-1,l=y.namespaceArray.length,o=0;o<l;++o)if(y.namespaceArray[o]===s.name.namespace&&"xmlns"!==y.prefixArray[o]){d=o;break}if(-1===d){for(;i="p"+g,-1!==y.prefixArray.indexOf(i);)g+=1;p=new c.XAttribute(c.XNamespace.getXmlns()+i,s.name.namespace.namespaceName),e.add(p),y.namespaceArray.push(s.name.namespace),y.prefixArray.push(i),s.name.namespace.preferredPrefix=i}}if(e.name.namespace!==N&&-1===y.namespaceArray.indexOf(e.name.namespace)){for(;i="p"+g,-1!==y.prefixArray.indexOf(i);)g+=1;p=new c.XAttribute(c.XNamespace.getXmlns()+i,e.name.namespace.namespaceName),e.add(p),y.namespaceArray.push(e.name.namespace),y.prefixArray.push(i),e.name.namespace.preferredPrefix=i}for(e.nsCache=y,t=e.nodesArray,n=t.length,o=0;o<n;o+=1)A=t[o],"Element"===A.nodeType&&m(A,y,X,h,N)},c.XElement.prototype.toString=function(e){var t,n;return void 0===e&&(e=!0),n=a(),t=new c.XElement(this),A(t),t.serialize(n,e,0),n.toString()},c.XElement.load=function(e){var a=i(e);return a},c.XElement.prototype.getFirstAttribute=function(){return 0<this.attributesArray.length?this.attributesArray[0]:null},c.XElement.prototype.getDefaultNamespaceHelper=function(){var e,a;return e=[].concat(this.attributesArray),a=t.from(e).where(function(e){return e.isNamespaceDeclaration}).firstOrDefault(function(e){return e.name.namespace===c.XNamespace.getXmlns()&&"xmlns"===e.name.localName}),a},c.XElement.prototype.getDefaultNamespace=function(e){var a,t;for(a=this;;){if(t=a.getDefaultNamespaceHelper(e),null!==t)return new c.XNamespace(t.value);if(a=a.parent,null===a||"Document"===a.nodeType)return c.XNamespace.getNone()}},c.XElement.prototype.getNamespaceOfPrefixForThisElement=function(e){var n=t.from(this.attributesArray).firstOrDefault(function(t){return t.isNamespaceDeclaration&&t.name.namespace===c.XNamespace.getXmlns()&&t.name.localName===e});return n},c.XElement.prototype.getNamespaceOfPrefix=function(e){var a,t;for(a=this;;){if(t=a.getNamespaceOfPrefixForThisElement(e),null!==t)return t;if(a=a.parent,null===a||"Document"===a.nodeType)return null}},g=0,c.XElement.prototype.getPrefixOfNamespace=function(e,a){var t,n,r,o,s;if(t=this,r=this.nsCache,o=r.prefixesFromNamespaceObjects,o&&e.preferredPrefix)return"xmlns"===e.preferredPrefix?"":e.preferredPrefix;if(void 0===a&&(a=!1),s=r.namespaceArray.indexOf(e),-1===s)throw"Local namespace cache is invalid";return a||-1===s||"xmlns"!==r.prefixArray[s]?(n=r.prefixArray[s],n):""},c.XElement.prototype.getHasAttributes=function(){return this.attributesArray&&0<this.attributesArray.length},c.XElement.prototype.getHasElements=function(){return t.from(this.nodesArray).any(function(e){return"Element"===e.nodeType})},c.XElement.prototype.getIsEmpty=function(){return 0===this.nodesArray.length},c.XElement.prototype.getLastAttribute=function(){return 0<this.attributesArray.length?this.attributesArray[this.attributesArray.length-1]:null},c.XElement.parse=function(e){var a,t;return a=l(e),t=c.XElement.load(a.documentElement),t},c.XElement.prototype.removeAll=function(){this.nodesArray=[],this.attributesArray=[]},c.XElement.prototype.removeAttributes=function(){this.attributesArray=[]},c.XElement.prototype.replaceAll=function(){var e,a,t;for(e=[],a=[],e=[],t=0;t<arguments.length;t+=1)e.push(arguments[t]);a=[],n(this,function(e){a.push(e)},function(){throw"replaceAll: invalid content"},e),this.nodesArray=a},c.XElement.prototype.replaceAttributes=function(){var e,t,a;for(e=[],t=[],e=[],a=0;a<arguments.length;a+=1)e.push(arguments[a]);t=[],n(this,function(){throw"replaceAttributes: invalid content"},function(e){t.push(e)},e),this.attributesArray=t},c.XElement.prototype.setAttributeValue=function(e,a){var t;return("string"==typeof e&&(e=new c.XName(e)),t=this.attribute(e),null!==t)?null===a?void(null!==t.parent&&t.remove()):void t.setValue(a):void(t=new c.XAttribute(e,a),t.parent=this,this.attributesArray.push(t))},c.XElement.prototype.setElementValue=function(e,a){var t,n;return("string"==typeof e&&(e=new c.XName(e)),t=this.element(e),null!==t)?null===a?void(null!==t.parent&&t.remove()):(n=[],u(a,t,!0,function(e){n.push(e)}),void(t.nodesArray=n)):void(t=new c.XElement(e,a),t.parent=this,this.nodesArray.push(t))},c.XElement.prototype.setValue=function(e){var a=[];u(e.toString(),this,!0,function(e){a.push(e)}),this.nodesArray=a},c.XElement.prototype.getValue=function(){var e=this.descendantNodes().where(function(e){return"Text"===e.nodeType||"CDATA"===e.nodeType||"Entity"===e.nodeType}).select(function(e){return e.value}).toArray().join("");return e},c.XElement.prototype.ancestorsAndSelf=function(e){var a,n,r;if(r=this,e&&"string"==typeof e&&(e=new c.XName(e)),this.lazy)return t.Utils.createEnumerable(function(){var a;return t.Utils.createEnumerator(function(){a=r},function(){for(;null!==a;)if(e&&a.name!==e)a=a.parent;else{var t=a;return a=a.parent,this.yieldReturn(t)}return this.yieldBreak()},y.Blank)});if(a=[],n=this.parent,void 0===e){for(a.push(this);null!==n;)a.push(n),n=n.parent;return t.from(a)}for(this.name===e&&a.push(this);null!==n;)n.name===e&&a.push(n),n=n.parent;return t.from(a)},c.XElement.prototype.descendantNodesAndSelf=function(){var a,e;return this.lazy?(e=t.from(this.nodesArray).traverseDepthFirst(function(e){return t.from(e.nodesArray)}),t.from([this]).concat(e)):(a=[],a.push(this),d(this,function(t){a.push(t)}),t.from(a))},c.XElement.prototype.descendantsAndSelf=function(e){var a,n;return(e&&"string"==typeof e&&(e=new c.XName(e)),this.lazy)?(n=e?e===this.name?t.from([this]):t.from([]):t.from([this]),n.concat(o(this,e))):(a=[],e?e===this.name&&a.push(this):a.push(this),s(this,e,function(t){a.push(t)}),t.from(a))},Object.defineProperties&&(Object.defineProperty(c.XElement.prototype,"firstAttribute",{get:function(){return this.getFirstAttribute()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XElement.prototype,"hasAttributes",{get:function(){return this.getHasAttributes()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XElement.prototype,"hasElements",{get:function(){return this.getHasElements()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XElement.prototype,"isEmpty",{get:function(){return this.getIsEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(c.XElement.prototype,"lastAttribute",{get:function(){return this.getLastAttribute()},enumerable:!0,configurable:!0})),c.XProcessingInstruction=function(e,a){this.nodeType="ProcessingInstruction",this.parent=null,this.target=null,this.data=null,e&&e.nodeType&&"ProcessingInstruction"===e.nodeType?(e.target&&(this.target=e.target),e.data&&(this.data=e.data)):(this.target=e,this.data=a)},c.XProcessingInstruction.prototype=new c.XNode,c.XProcessingInstruction.prototype.serialize=function(e,a,t){var n;return(t||(t=0),a)?(n=c.spaces.substring(0,t),void e.a(n).a("<?").a(this.target).a(" ").a(this.data).a("?>\n")):void e.a("<?").a(this.target).a(" ").a(this.data).a("?>")},c.XProcessingInstruction.prototype.toString=function(e){var t=a();return this.serialize(t,e),t.toString()},c.XText=function(e){this.nodeType="Text",this.parent=null,this.value=e&&e.nodeType&&"Text"===e.nodeType?e.value.toString():e,this.serialize=function(e){e.a(this.value)},this.toString=function(){return this.value}},c.XText.prototype=new c.XNode,c.XEntity=function(e){this.nodeType="Entity",this.parent=null,this.value=e&&e.nodeType&&"Entity"===e.nodeType?e.value:"string"==typeof e?e:e.toString(),this.serialize=function(e){var a="&"+this.value+";";e.a(a)},this.toString=function(){return"&"+this.value+";"}},c.XEntity.prototype=new c.XNode,c.XCData=function(e){this.nodeType="CDATA",this.parent=null,this.value=e&&e.nodeType&&"CDATA"===e.nodeType?e.value.toString():e.toString()},c.XCData.prototype=new c.XText,c.XCData.prototype.serialize=function(e,a,t){var n;return(t||(t=0),a)?(n=c.spaces.substring(0,t),void e.a(n).a("<![CDATA[").a(this.value).a("]]>\n")):void e.a("<![CDATA[").a(this.value).a("]]>")},c.XCData.prototype.toString=function(e){var t=a();return this.serialize(t,e),t.toString()},c}var t;typeof define=="function"&&define.amd?define("ltxml",["linq"],function(n){return t=a(e,n),t}):typeof module!=typeof void 0&&module.exports?(t=a(e,Enumerable),module.exports=t):(t=a(e,Enumerable),e.Ltxml=t)})(this);