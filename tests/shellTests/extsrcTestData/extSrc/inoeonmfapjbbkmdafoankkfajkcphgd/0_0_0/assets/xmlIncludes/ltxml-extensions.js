(function(a){'use strict';function b(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return d=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.selectMany(function(c){return c.nodeType&&('Element'===c.nodeType||'Comment'===c.nodeType||'ProcessingInstruction'===c.nodeType||'Text'===c.nodeType||'CDATA'===c.nodeType||'Entity'===c.nodeType)?c.ancestors(a):b.empty()}),new p(e)},e=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.selectMany(function(c){return c.nodeType&&'Element'===c.nodeType?c.ancestorsAndSelf(a):b.empty()}),new p(e)},f=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.selectMany(function(c){return c.nodeType&&'Element'===c.nodeType?c.attributes(a):b.empty()}),new p(e)},g=function(){var a,c;return a=this.source?this.source:this,c=a.selectMany(function(a){return a.nodeType&&('Element'===a.nodeType||'Comment'===a.nodeType||'ProcessingInstruction'===a.nodeType||'Text'===a.nodeType||'CDATA'===a.nodeType||'Entity'===a.nodeType)?a.descendantNodes():b.empty()}),new p(c)},h=function(){var a,c;return a=this.source?this.source:this,c=a.selectMany(function(a){return a.nodeType&&('Element'===a.nodeType||'Comment'===a.nodeType||'ProcessingInstruction'===a.nodeType||'Text'===a.nodeType||'CDATA'===a.nodeType||'Entity'===a.nodeType)?a.descendantNodesAndSelf():b.empty()}),new p(c)},i=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.selectMany(function(c){return c.nodeType&&'Element'===c.nodeType?c.descendants(a):b.empty()}),new p(e)},j=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.selectMany(function(c){return c.nodeType&&'Element'===c.nodeType?c.descendantsAndSelf(a):b.empty()}),new p(e)},k=function(a){var d,e;return a&&'string'==typeof a&&(a=new c.XName(a)),d=this.source?this.source:this,e=d.select(function(c){return c.nodeType&&('Element'===c.nodeType||'Document'===c.nodeType)?c.elements(a):b.empty()}).selectMany('i=>i'),new p(e)},l=function(){throw'Not implemented'},m=function(){var a,c;return a=this.source?this.source:this,c=a.selectMany(function(a){return a.nodeType&&('Element'===a.nodeType||'Document'===a.nodeType)?a.nodes():b.empty()}),new p(c)},n=function(a){var b,d,e;for(a&&'string'==typeof a&&(a=new c.XName(a)),b=this.source?this.source:this,d=b.toArray(),e=0;e<d.length;e+=1)void 0===a?d[e].remove():d[e].name&&d[e].name===a&&d[e].remove()},o=function(a){var c,d,e,f,g;return g=this.source?this.source:this,c=null,d=!1,e=[],f=[],g.forEach(function(g){var h;h=a(g),d?h===c?(f.push(g),c=h):(e.push({Key:c,Group:b.from(f)}),f=[],f.push(g),c=h):(f.push(g),c=h,d=!0)}),d&&e.push({Key:c,Group:b.from(f)}),b.from(e)},p=function(a){this.source=a,this.isXEnumerable=!0},p.prototype=new b,p.prototype.getEnumerator=function(){return this.source.getEnumerator()},p.prototype.asEnumerable=function(){return this.source},p.prototype.ancestors=d,p.prototype.ancestorsAndSelf=e,p.prototype.attributes=f,p.prototype.descendantNodes=g,p.prototype.descendantNodesAndSelf=h,p.prototype.descendants=i,p.prototype.descendantsAndSelf=j,p.prototype.elements=k,p.prototype.inDocumentOrder=l,p.prototype.nodes=m,p.prototype.remove=n,p.prototype.groupAdjacent=o,p}var c;typeof define=='function'&&define.amd?define('ltxml-extensions',['linq','ltxml'],function(d,e){return c=b(a,d,e),c}):typeof module!=typeof void 0&&module.exports?(c=b(a,Enumerable,Ltxml),module.exports=c):(c=b(a,Enumerable,Ltxml),a.XEnumerable=c)})(this);