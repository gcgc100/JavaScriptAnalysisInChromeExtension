{"version":3,"sources":["chrome/src/common/cofund.js"],"names":["CoFund","Store","getCompositeKey","name","isset","sessionStorage","getItem","this","set","data","setItem","JSON","stringify","get","parse","e","Info","extId","user","preferences","worksHere","savings","getExtId","setExtId","getUser","setUser","getPreferences","setPreferences","getSavings","setSavings","Cookie","cookie","expires","path","setDomain","domain","_getJson","Date","setSeconds","getSeconds","document","encodeURIComponent","toUTCString","secure","join","getAll","json","jsonParsed","hasOwnProperty","clear","clearAll","self","Object","keys","forEach","getExternal","cookies","split","i","l","length","parts","decodeURIComponent","replace","State","PENDING","STATE_RECEIVED","CODES_PRESENTED","CODES_PROCESSED","state","Sliders","SLIDER_IN","CASHBACK_BUTTON","ACTIVATED_AUTOTRY_SUCCESS","COPIED_CODE","CLOSED_MANUAL_DRAWER","show","hasShown","updatedState","reset","Cashback","FIRE_ON_30","FIRE_ON_CODES_FOUND","FIRE_ON_CODES_PRESENTED","FIRE_ON_CODES_SUCCESSFUL","FIRE_ON_CODES_ACTIVATED","FIRE_ON_DRAWER_CLOSED","FIRE_ON_SLIDER_CLOSED","FIRE_ON_CASHBACK_ACTIVATED","FIRE_ON_CODES_COPIED","FIRE_ON_120","FIRE_ON_180","FIRE_ON_COUPON_TAB_CLICK","refCodes","tracker","fireOnActions","isButtonABTest","buttonABRef","init","reload","loadTracker","getTimestamp","pageCount","getPageCount","hasFired","getTime","updateTracker","checkForSchedule","getActions","cashback","action","hasAction","actions","actionTimer","now","secondsSinceInit","parseInt","setTimeout","fire","trigger","winningCode","cbDetails","firethru","manifest","codeDetails","storeId","offerId","chrome","runtime","getManifest","version","s","o","Config","testType","sendMessage","url","server","triggers","Session","TR_CASHBACK_FIRE","TR_CASHBACK_FIRE_TRIG","update","$","ajax","type","cache","dataType","success","response","status","$xhr","Events","logCashbackFireFailed","error","errorThrown","responseText","formatForDisplay","renderAsHtml","pay","Number","payType","parseFloat","toFixed","TYPE_CODES_PRESENTED","TYPE_CODE_SUCCESS","TYPE_CODE_FAILURE","TYPE_NO_CODES","TYPE_CASHBACK_FIRED","TYPE_CASHBACK_FIRE_FAILED","TYPE_NO_CODES_NO_CASHBACK","TYPE_PROVIDER_ERROR","TYPE_CASHBACK_BUTTON_DISMISSED","TYPE_DRAWER_CLOSED","log","logType","message","v","currentState","logCodesPresented","logCodeSuccess","logCodeFailure","logNoCodes","logCashbackFired","logNoCodesNoCashback","logProviderError","logCashbackButtonDismissed","logDrawerClosed","TR_CHECKOUT_MATCHED","TR_DRAWER_SHOWN","TR_DRAWER_MSG","TR_COUNT_CODES","TR_DRAWER_CLOSED","TR_DRAWER_MAN_OPEN","TR_US_TRIED_CODES","TR_US_COPIED_CODES","TR_US_VIEWED_CODES","TR_US_VIEWED_AUTOLOAD_MANUAL","TR_CODE_SUCCESS","TR_CODE_FAILED","TR_TEST_NAME","TR_TEST_RESULT","firstSendComplete","callback","tr","updateOne","val","tested","result","Flags","hideDrawer","hideCouponTab","hideSlideInPGW","hasFlag","flag","ruleset","flags"],"mappings":"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","file":"chrome-minified/src/common/cofund.js"}